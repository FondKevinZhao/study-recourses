{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../shared/ReactSymbols.js","webpack:///../react-devtools-shared/src/utils.js","webpack:///../react-devtools-shared/src/types.js","webpack:///../react-devtools-shared/src/backend/ReactSymbols.js","webpack:///../react-devtools-shared/src/constants.js","webpack:///../react-devtools-shared/src/storage.js","webpack:///../react-devtools-shared/src/backend/utils.js","webpack:////Users/bvaughn/Documents/git/react.alt2/build/node_modules/react-is/index.js","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/object-assign/index.js","webpack:///../react-devtools-shared/src/hydration.js","webpack:///../shared/ConsolePatchingDev.js","webpack:///../react-devtools-shared/src/backend/DevToolsComponentStackFrame.js","webpack:///../react-devtools-shared/src/backend/DevToolsFiberComponentStack.js","webpack:///../react-devtools-shared/src/backend/console.js","webpack:///../react-devtools-shared/src/events.js","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/lodash.throttle/index.js","webpack:///../react-devtools-shared/src/backend/renderer.js","webpack:///../react-devtools-shared/node_modules/semver/semver.js","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/memoize-one/esm/index.js","webpack:///../react-devtools-shared/src/backend/views/utils.js","webpack:///../react-devtools-shared/src/backend/views/Highlighter/Overlay.js","webpack:///../react-devtools-shared/src/backend/views/Highlighter/Highlighter.js","webpack:///../react-devtools-shared/src/backend/views/Highlighter/index.js","webpack:///../react-devtools-shared/src/backend/views/TraceUpdates/canvas.js","webpack:///../react-devtools-shared/src/backend/views/TraceUpdates/index.js","webpack:///../react-devtools-shared/src/backend/agent.js","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/lru-cache/index.js","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/clipboard-js/clipboard.js","webpack:////Users/bvaughn/Documents/git/react.alt2/build/node_modules/react-debug-tools/index.js","webpack:///./src/backend.js","webpack:///(webpack)/buildin/global.js","webpack:///../react-devtools-shared/src/devtools/views/root.css","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/process/browser.js","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/lru-cache/node_modules/yallist/yallist.js","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/lru-cache/node_modules/yallist/iterator.js","webpack:////Users/bvaughn/Documents/git/react.alt2/build/node_modules/react-is/cjs/react-is.production.min.js","webpack:////Users/bvaughn/Documents/git/react.alt2/build/node_modules/react-debug-tools/cjs/react-debug-tools.production.min.js","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/error-stack-parser/error-stack-parser.js","webpack:////Users/bvaughn/Documents/git/react.alt2/node_modules/stackframe/stackframe.js","webpack:////Users/bvaughn/Documents/git/react.alt2/build/node_modules/react/index.js","webpack:////Users/bvaughn/Documents/git/react.alt2/build/node_modules/react/cjs/react.production.min.js","webpack:///../react-devtools-shared/src/bridge.js","webpack:///../react-devtools-shared/src/backend/legacy/utils.js","webpack:///../react-devtools-shared/src/backend/legacy/renderer.js","webpack:///../react-devtools-shared/src/backend/index.js","webpack:///../react-devtools-shared/src/backend/NativeStyleEditor/resolveBoxStyle.js","webpack:///../react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor.js"],"names":["REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_SERVER_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_SCOPE_TYPE","REACT_OPAQUE_ID_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_OFFSCREEN_TYPE","REACT_LEGACY_HIDDEN_TYPE","Symbol","for","symbolFor","MAYBE_ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","maybeIterator","cachedDisplayNames","WeakMap","encodedStringCache","LRU","max","alphaSortKeys","a","b","toString","getAllEnumerableKeys","obj","keys","current","currentKeys","Object","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","forEach","key","enumerable","push","getPrototypeOf","getDisplayName","type","fallbackName","nameFromCache","get","displayName","name","set","uidCounter","getUID","utfDecodeString","array","String","fromCodePoint","utfEncodeString","string","cached","undefined","encoded","Array","length","i","codePointAt","printOperationsArray","operations","rendererID","rootID","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","slice","operation","TREE_OPERATION_ADD","id","ElementTypeRoot","parentID","displayNameStringID","TREE_OPERATION_REMOVE","removeLength","removeIndex","TREE_OPERATION_REORDER_CHILDREN","numChildren","children","join","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","Error","console","log","getDefaultComponentFilters","ComponentFilterElementType","value","ElementTypeHostComponent","isEnabled","getSavedComponentFilters","raw","localStorageGetItem","LOCAL_STORAGE_FILTER_PREFERENCES_KEY","JSON","parse","error","saveComponentFilters","componentFilters","localStorageSetItem","stringify","getAppendComponentStack","LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY","setAppendComponentStack","getBreakOnConsoleErrors","LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS","setBreakOnConsoleErrors","separateDisplayNameAndHOCs","hocDisplayNames","ElementTypeClass","ElementTypeForwardRef","ElementTypeFunction","ElementTypeMemo","indexOf","matches","match","pop","unshift","shallowDiffers","prev","next","attribute","getInObject","object","path","reduce","reduced","attr","hasOwnProperty","call","from","deletePathInObject","last","parent","isArray","splice","renamePathInObject","oldPath","newPath","lastOld","lastNew","setInObject","getDataType","data","isElement","HTMLElement","Number","isNaN","isFinite","ArrayBuffer","isView","constructor","toStringValue","prototype","getDisplayNameForReactElement","element","elementType","typeOf","ContextConsumer","ContextProvider","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","SuspenseList","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","substr","formatDataForPreview","showFormattedValue","meta","preview_long","preview_short","tagName","toLowerCase","byteLength","buffer","formatted","size","shortName","entryOrEntries","toStringTag","sort","ElementTypeContext","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeSuspense","ElementTypeSuspenseList","ComponentFilterDisplayName","ComponentFilterLocation","ComponentFilterHOC","BLOCK_NUMBER","BLOCK_SYMBOL_STRING","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_NUMBER","ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","FUNDAMENTAL_NUMBER","FUNDAMENTAL_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","OPAQUE_ID_NUMBER","OPAQUE_ID_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","SERVER_BLOCK_NUMBER","SERVER_BLOCK_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","__DEBUG__","SESSION_STORAGE_LAST_SELECTION_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY","PROFILER_EXPORT_VERSION","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","COMFORTABLE_LINE_HEIGHT","COMPACT_LINE_HEIGHT","rawStyleString","require","default","extractVar","varName","regExp","RegExp","parseInt","localStorage","getItem","localStorageRemoveItem","removeItem","setItem","sessionStorageGetItem","sessionStorage","sessionStorageRemoveItem","sessionStorageSetItem","cleanForBridge","isPathAllowed","cleanedPaths","unserializablePaths","cleanedData","dehydrate","cleaned","unserializable","copyToClipboard","safeToCopy","serializeToString","text","clipboardCopyText","window","__REACT_DEVTOOLS_GLOBAL_HOOK__","catch","err","copy","copyWithDelete","index","updated","copyWithRename","oldKey","newKey","copyWithSet","cache","Set","has","add","process","module","exports","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","assign","test1","getOwnPropertyNames","test2","fromCharCode","order2","map","n","test3","split","letter","target","source","to","symbols","s","arguments","inspectable","inspected","readonly","LEVEL_THRESHOLD","createDehydrated","dehydrated","level","isPathAllowedCheck","item","concat","unserializableValue","fillInPath","unserializablePath","isMatch","upgradeUnserializable","hydrate","Infinity","NaN","replaced","node","replacement","destination","defineProperties","configurable","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","__DEV__","info","warn","group","groupCollapsed","groupEnd","props","writable","reenableLogs","prefix","describeBuiltInComponentFrame","ownerFn","x","stack","trim","reentry","componentFrameCache","PossiblyWeakMap","Map","describeNativeComponentFrame","fn","construct","currentDispatcherRef","frame","control","previousPrepareStackTrace","prepareStackTrace","previousDispatcher","Fake","defineProperty","Reflect","sample","sampleLines","controlLines","c","replace","syntheticFrame","describeClassComponentFrame","ctor","describeFunctionComponentFrame","shouldConstruct","Component","isReactComponent","describeUnknownElementTypeFrameInDEV","$$typeof","render","_render","lazyComponent","payload","_payload","init","_init","describeFiber","workTagMap","workInProgress","HostComponent","LazyComponent","SuspenseComponent","SuspenseListComponent","FunctionComponent","IndeterminateComponent","SimpleMemoComponent","Block","ClassComponent","owner","_debugOwner","_debugSource","tag","getStackByFiberInDevAndProd","return","message","APPEND_STACK_TO_METHODS","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","injectedRenderers","targetConsole","targetConsoleMethods","method","unpatchFn","dangerous_setTargetConsoleForTesting","targetConsoleForTesting","registerRenderer","renderer","getCurrentFiber","findFiberByHostInstance","version","getInternalReactConstants","ReactTypeOfWork","consoleSettingsRef","appendComponentStack","breakOnConsoleErrors","patch","originalConsoleMethods","originalMethod","overrideMethod","args","latestAppendComponentStack","latestBreakOnConsoleErrors","lastArg","alreadyHasComponentStack","test","values","componentStack","__REACT_DEVTOOLS_ORIGINAL_METHOD__","unpatch","EventEmitter","addListener","event","listener","listeners","listenersMap","emit","apply","didThrow","caughtError","clonedListeners","removeAllListeners","clear","removeListener","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","self","root","Function","objectProto","objectToString","nativeMax","Math","nativeMin","min","now","Date","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","throttle","isObjectLike","isSymbol","other","valueOf","isBinary","getFiberFlags","fiber","flags","effectTag","getCurrentTime","performance","ReactTypeOfSideEffect","NoFlags","PerformedWork","Placement","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","gte","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","HostPortal","HostRoot","HostText","IncompleteClassComponent","MemoComponent","Mode","OffscreenComponent","YieldComponent","getTypeSymbol","symbolOrNumber","resolveFiberType","typeSymbol","getDisplayNameForFiber","resolvedType","resolvedContext","_context","context","memoizedProps","attach","hook","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","supportsTogglingSuspense","registerRendererWithConsole","__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__","__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__","patchConsole","debug","parentFiber","getFiberID","parentDisplayName","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","traceUpdatesEnabled","traceUpdatesForNodes","applyComponentFilters","componentFilter","isValid","__REACT_DEVTOOLS_COMPONENT_FILTERS__","updateComponentFilters","isProfiling","getFiberRoots","currentRootID","getPrimaryFiber","unmountFiberChildrenRecursively","recordUnmount","rootDisplayNameCounter","setRootPseudoKey","mountFiberRecursively","flushPendingEvents","shouldFilterFiber","getElementTypeForFiber","displayNameRegExp","fileName","pathRegExp","primaryFibers","alternate","fiberToIDMap","idToFiberMap","idToTreeBaseDurationMap","idToRootMap","primaryFiber","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","state","getContextChangedKeys","memoizedState","getChangedKeys","updateContextsForFiber","idToContextsMap","contexts","getContextsForFiber","NO_CONTEXT","instance","stateNode","legacyContext","modernContext","contextType","crawlToInitializeContextsMap","child","sibling","prevContexts","nextContexts","prevLegacyContext","prevModernContext","nextLegacyContext","nextModernContext","changedKeys","didFiberRender","ref","pendingOperations","pendingRealUnmountedIDs","pendingSimulatedUnmountedIDs","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","pushOperation","op","isInteger","numUnmountIDs","encodedKey","j","getStringID","str","existingID","stringID","recordMount","isRoot","hasOwnerMetadata","isProfilingSupported","displayNamesByRootID","getDisplayNameForRoot","ownerID","keyString","keyStringID","recordProfilingDurations","isSimulated","trackedPathMatchFiber","setTrackedPath","delete","traverseSiblings","traceNearestHostComponentUpdate","mightSiblingsBeOnTrackedPath","updateTrackedPathStateBeforeMount","shouldIncludeInTree","isSuspense","isTimedOut","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","areSuspenseChildrenConditionallyWrapped","updateTrackedPathStateAfterMount","isTimedOutSuspense","actualDuration","treeBaseDuration","convertedTreeBaseDuration","floor","selfDuration","metadata","currentCommitProfilingMetadata","durations","maxActualDuration","recordChangeDescriptions","changeDescription","changeDescriptions","recordResetChildren","childSet","nextChildren","findReorderedChildrenRecursively","updateFiberRecursively","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","shouldResetChildren","prevDidTimeout","nextDidTimeOut","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","nextPrimaryChildSet","nextChild","prevChildAtSameIndex","prevChild","hostFibers","findAllCurrentHostFibers","hostFiber","nextChildSet","cleanup","flushInitialOperations","localPendingOperationsQueue","trackedPath","mightBeOnTrackedPath","memoizedInteractions","commitTime","profilingStartTime","interactions","interaction","timestamp","priorityLevel","handleCommitFiberUnmount","handleCommitFiberRoot","formatPriorityLevel","wasMounted","isMounted","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","fibers","findCurrentFiberUsingSlowPathById","findNativeNodesForFiberID","maybeFallbackFiber","filter","Boolean","getDisplayNameForFiberID","getFiberIDForNative","hostInstance","findNearestUnfilteredAncestor","MOUNTING","MOUNTED","UNMOUNTED","isFiberMountedImpl","parentA","parentB","nextParent","didFindChild","prepareViewAttributeSource","isCurrent","isMostRecentlyInspectedElementCurrent","$attribute","prepareViewElementSource","$type","getOwnersList","owners","getInstanceAndStyle","style","inspectElementRaw","dependencies","usesHooks","canViewSource","shouldHideContext","contextTypes","consumerResolvedContext","_currentValue","currentType","currentTypeSymbol","providerResolvedContext","hasLegacyContext","hooks","inspectHooksOfFiber","rootType","fiberRoot","_debugRootType","canEditHooks","canEditFunctionProps","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canToggleSuspense","forceFallbackForSuspenseIDs","rendererPackageName","rendererVersion","currentlyInspectedPaths","mergeInspectedPaths","createIsPathAllowed","secondaryCategory","updateSelectedElement","inspectedElement","$r","storeAsGlobal","count","copyElementPath","inspectElement","cleanedInspectedElement","logElementToConsole","supportsGroup","nativeNodes","chrome","navigator","userAgent","deletePath","hookID","forceUpdate","pendingProps","renamePath","overrideValueAtPath","initialTreeBaseDurationsMap","initialIDToRootMap","getProfilingData","dataForRoots","commitData","initialTreeBaseDurations","allInteractions","interactionCommits","commitProfilingData","commitIndex","interactionIDs","commitIndices","fiberActualDurations","fiberSelfDurations","fiberID","entries","duration","startProfiling","shouldRecordChangeDescriptions","stopProfiling","shouldSuspendFiberAlwaysFalse","shouldSuspendFiberAccordingToSet","overrideSuspense","forceFallback","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","rootPseudoKeys","counter","pseudoKey","substring","lastIndexOf","preferredDisplayName","fallbackDisplayName","getPathForElement","keyPath","reverse","getBestMatchForTrackedPath","isFullMatch","setTraceUpdatesEnabled","SemVer","env","NODE_DEBUG","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","MAX_SAFE_COMPONENT_LENGTH","re","src","t","tokens","R","tok","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULLPLAIN","FULL","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","COERCERTL","LONETILDE","TILDETRIM","tildeTrimReplace","TILDE","TILDELOOSE","LONECARET","CARETTRIM","caretTrimReplace","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","comparatorTrimReplace","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","r","er","valid","v","clean","m","major","minor","prerelease","num","build","format","compare","compareMain","comparePre","compareIdentifiers","compareBuild","inc","release","identifier","diff","version1","version2","eq","v1","v2","defaultResult","numeric","anum","bnum","rcompareIdentifiers","compareLoose","versionA","versionB","rcompare","list","rsort","gt","lt","neq","lte","cmp","Comparator","comp","semver","ANY","operator","intersects","rangeTmp","Range","satisfies","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","range","parseRange","comps","hr","hyphenReplace","compRe","parseComparator","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","comparators","remainingComparators","testComparator","otherComparator","toComparators","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","_","M","p","pr","ret","replaceCaret","replaceXRange","gtlt","xM","xm","xp","anyX","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","testSet","allowed","maxSatisfying","versions","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","comparator","compver","validRange","ltr","outside","gtr","hilo","gtfn","ltefn","ltfn","ecomp","high","low","parsed","r1","r2","coerce","rtl","exec","lastIndex","simpleIsEqual","resultFn","isEqual","lastResult","calledOnce","isNewArgEqualToLast","newArg","_len","newArgs","_key","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","getElementDimensions","mergeRectOffsets","getBoundingClientRect","top","borderTop","left","borderLeft","bottom","borderBottom","right","borderRight","width","height","rects","previousRect","rect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","domElement","calculatedStyle","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","OverlayRect","doc","container","createElement","border","padding","content","borderColor","overlayStyles","backgroundColor","background","margin","pointerEvents","position","zIndex","appendChild","remove","parentNode","removeChild","update","box","dims","boxWrap","OverlayTip","tip","display","flexFlow","borderRadius","fontFamily","fontWeight","fontSize","whiteSpace","nameSpan","color","dimSpan","updateText","textContent","round","updatePosition","bounds","tipRect","tipPos","findTipPos","Overlay","currentWindow","__REACT_DEVTOOLS_TARGET_WINDOW__","tipBoundsWindow","document","body","inspect","nodes","elements","nodeType","Node","ELEMENT_NODE","outerBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","nodeName","rendererInterfaces","ownerName","rendererInterface","tipBounds","documentElement","scrollY","scrollX","innerHeight","innerWidth","tipSize","tipHeight","tipWidth","what","borderStyle","SHOW_DURATION","timeoutID","overlay","hideOverlay","showOverlay","componentName","hideAfterTimeout","iframesListeningTo","setupHighlighter","bridge","agent","clearNativeElementHighlight","highlightNativeElement","stopInspectingNative","startInspectingNative","registerListenersOnWindow","addEventListener","onClick","onMouseEvent","onPointerDown","onPointerOver","onPointerUp","removeListenersOnWindow","contentWindow","removeEventListener","openNativeElementsPanel","scrollIntoView","block","inline","send","preventDefault","stopPropagation","selectFiberForNode","iframe","memoize","getIDForNode","OUTLINE_COLOR","COLORS","canvas","draw","nodeToData","initialize","canvasFlow","getContext","clearRect","colorIndex","drawBorder","lineWidth","strokeStyle","strokeRect","setLineDash","destroy","cssText","insertBefore","firstChild","DISPLAY_DURATION","MAX_DISPLAY_DURATION","REMEASUREMENT_AFTER_DURATION","drawAnimationFrameID","redrawTimeoutID","injectedAgent","traceUpdates","toggleEnabled","cancelAnimationFrame","destroyCanvas","lastMeasuredAt","measureNode","expirationTime","requestAnimationFrame","prepareToDraw","earliestExpiration","MAX_VALUE","methodName","Agent","_rendererInterfaces","_bridge","_isProfiling","_persistedSelectionMatch","_persistedSelection","_throttledPersistSelection","wasForwarded","_traceUpdatesEnabled","selectNode","_recordChangeDescriptions","unpatchConsole","prevMatch","nextMatch","prevMatchID","nextMatchID","persistedSelectionString","getProfilingStatus","reloadAndProfile","syncSelectionFromNativeElementsPanel","shutdown","updateConsolePatchSettings","viewAttributeSource","viewElementSource","overrideContext","overrideState","isBackendStorageAPISupported","setupTraceUpdates","setRendererInterface","selection","onUnsupportedRenderer","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","LRUCache","lc","stale","maxAge","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","allowStale","mA","lengthCalculator","lC","hit","itemCount","rforEach","thisp","walker","tail","forEachStep","head","toArray","k","dump","isStale","e","h","dumpLru","len","del","Entry","peek","load","arr","l","expiresAt","prune","doUse","unshiftNode","removeNode","definition","clipboard","_intercept","_data","_bogusSelection","getSelection","removeAllRanges","clipboardData","setData","bogusSelect","sel","queryCommandEnabled","isCollapsed","createRange","selectNodeContents","addRange","Promise","resolve","reject","XMLSerializer","triggerCopy","tryBogusSelect","execCommand","paste","_resolve","_dataType","getData","dataType","ClipboardEvent","_state","_value","_deferreds","f","d","onFulfilled","onRejected","then","g","immediateFn","setImmediate","all","race","strData","copySucceeded","welcome","setup","Bridge","initBackend","setupNativeStyleEditor","listen","transferable","postMessage","resolveRNStyle","nativeStyleEditorValidAttributes","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","Item","title","browser","argv","noop","on","once","off","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","create","pushNode","res","shift","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","sliceReverse","start","deleteCount","insert","inserted","q","u","w","y","z","A","B","C","D","E","F","G","H","I","Element","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isValidElementType","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","useContext","useState","useReducer","useRef","useLayoutEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useMemo","primitive","stackError","readContext","useTransition","useMutableSource","_source","useDeferredValue","useOpaqueIdentifier","mode","functionName","isStateEditable","subHooks","J","K","ReactCurrentDispatcher","L","inspectHooks","defaultProps","factory","define","ErrorStackParser","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser$$parse","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","parts","ErrorStackParser$$parseV8OrIE","filtered","line","sanitizedLine","location","locationParts","lineNumber","columnNumber","ErrorStackParser$$parseFFOrSafari","functionNameRegex","ErrorStackParser$$parseOpera","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","argsRaw","_isNumber","parseFloat","_capitalize","charAt","toUpperCase","_getter","booleanProps","numericProps","stringProps","arrayProps","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","locationString","unstable_SuspenseList","unstable_DebugTracingMode","unstable_LegacyHidden","encodeURIComponent","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","refs","updater","setState","isPureReactComponent","__self","__source","_owner","escape","N","O","P","done","Q","_status","_result","S","T","U","V","transition","W","ReactCurrentBatchConfig","ReactCurrentOwner","IsSomeRendererActing","Children","only","PureComponent","cloneElement","createContext","_calculateChangedBits","_currentValue2","_threadCount","Provider","Consumer","createFactory","bind","createRef","forwardRef","isValidElement","lazy","memo","unstable_block","unstable_createMutableSource","_getVersion","_workInProgressVersionPrimary","_workInProgressVersionSecondary","unstable_startTransition","unstable_useDeferredValue","unstable_useMutableSource","unstable_useOpaqueIdentifier","unstable_useTransition","BATCH_DURATION","wall","_timeoutID","_messageQueue","_wall","_flush","_wallUnlisten","_isShutdown","wallUnlisten","decorate","old","decorateMany","fns","olds","restoreMany","internalInstance","_currentElement","getElementType","publicInstance","getPublicInstance","getChildren","_renderedComponent","_renderedChildren","renderedChildren","idToInternalInstanceMap","internalInstanceToIDMap","internalInstanceToRootIDMap","getInternalIDForNative","findNativeNodeForInternalID","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","Mount","getID","getNode","areEqualArrays","parentIDStack","oldReconcilerMethods","Reconciler","mountComponent","hostContainerInfo","_topLevelWrapper","performUpdateIfNecessary","prevChildren","recordReorder","receiveComponent","unmountComponent","Mixin","nextChildIDs","pendingUnmountedIDs","crawlAndRecordInitialMounts","roots","_instancesByReactRootID","_instancesByContainerID","currentlyInspectedElementID","_instance","nativeNode","enabled","subs","sub","onHookOperations","onTraceUpdates","attachRenderer","attachLegacy","renderers","reactDevtoolsAgent","onAgentShutdown","resolveBoxStyle","hasParts","styleForAll","styleForHorizontal","styleForLeft","styleForRight","styleForEnd","styleForStart","styleForVertical","styleForBottom","styleForTop","resolveNativeStyle","validAttributes","measureStyle","oldName","newName","renameStyle","setStyle","isSupported","EMPTY_BOX_STYLE","componentIDToStyleOverrides","layout","resolvedStyle","styleOverrides","measure","shallowClone","cloned","newStyle","customStyle","setNativeProps","lastLength"],"mappings":"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","file":"react_devtools_backend.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nexport let REACT_ELEMENT_TYPE = 0xeac7;\nexport let REACT_PORTAL_TYPE = 0xeaca;\nexport let REACT_FRAGMENT_TYPE = 0xeacb;\nexport let REACT_STRICT_MODE_TYPE = 0xeacc;\nexport let REACT_PROFILER_TYPE = 0xead2;\nexport let REACT_PROVIDER_TYPE = 0xeacd;\nexport let REACT_CONTEXT_TYPE = 0xeace;\nexport let REACT_FORWARD_REF_TYPE = 0xead0;\nexport let REACT_SUSPENSE_TYPE = 0xead1;\nexport let REACT_SUSPENSE_LIST_TYPE = 0xead8;\nexport let REACT_MEMO_TYPE = 0xead3;\nexport let REACT_LAZY_TYPE = 0xead4;\nexport let REACT_BLOCK_TYPE = 0xead9;\nexport let REACT_SERVER_BLOCK_TYPE = 0xeada;\nexport let REACT_FUNDAMENTAL_TYPE = 0xead5;\nexport let REACT_SCOPE_TYPE = 0xead7;\nexport let REACT_OPAQUE_ID_TYPE = 0xeae0;\nexport let REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\nexport let REACT_OFFSCREEN_TYPE = 0xeae2;\nexport let REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\n\nif (typeof Symbol === 'function' && Symbol.for) {\n  const symbolFor = Symbol.for;\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\n  REACT_FRAGMENT_TYPE = symbolFor('react.fragment');\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\n  REACT_MEMO_TYPE = symbolFor('react.memo');\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\n  REACT_BLOCK_TYPE = symbolFor('react.block');\n  REACT_SERVER_BLOCK_TYPE = symbolFor('react.server.block');\n  REACT_FUNDAMENTAL_TYPE = symbolFor('react.fundamental');\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\n}\n\nconst MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  isElement,\n  typeOf,\n  ContextConsumer,\n  ContextProvider,\n  ForwardRef,\n  Fragment,\n  Lazy,\n  Memo,\n  Portal,\n  Profiler,\n  StrictMode,\n  Suspense,\n} from 'react-is';\nimport {REACT_SUSPENSE_LIST_TYPE as SuspenseList} from 'shared/ReactSymbols';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from './constants';\nimport {ElementTypeRoot} from 'react-devtools-shared/src/types';\nimport {\n  LOCAL_STORAGE_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n  LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY,\n} from './constants';\nimport {ComponentFilterElementType, ElementTypeHostComponent} from './types';\nimport {\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n} from 'react-devtools-shared/src/types';\nimport {localStorageGetItem, localStorageSetItem} from './storage';\nimport {meta} from './hydration';\nimport type {ComponentFilter, ElementType} from './types';\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache = new LRU({max: 1000});\n\nexport function alphaSortKeys(\n  a: string | number | Symbol,\n  b: string | number | Symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Array<string | number | Symbol> {\n  const keys = [];\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.push(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeString(array: Array<number>): string {\n  return String.fromCodePoint(...array);\n}\n\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = new Array(string.length);\n  for (let i = 0; i < string.length; i++) {\n    encoded[i] = string.codePointAt(i);\n  }\n  encodedStringCache.set(string, encoded);\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeString(\n      (operations.slice(i, i + nextLength): any),\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // supportsProfiling\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      default:\n        throw Error(`Unsupported Bridge operation ${operation}`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_FILTER_PREFERENCES_KEY);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function saveComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_FILTER_PREFERENCES_KEY,\n    JSON.stringify(componentFilters),\n  );\n}\n\nexport function getAppendComponentStack(): boolean {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return true;\n}\n\nexport function setAppendComponentStack(value: boolean): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY,\n    JSON.stringify(value),\n  );\n}\n\nexport function getBreakOnConsoleErrors(): boolean {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n    );\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return false;\n}\n\nexport function setBreakOnConsoleErrors(value: boolean): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n    JSON.stringify(value),\n  );\n}\n\nexport function separateDisplayNameAndHOCs(\n  displayName: string | null,\n  type: ElementType,\n): [string | null, Array<string> | null] {\n  if (displayName === null) {\n    return [null, null];\n  }\n\n  let hocDisplayNames = null;\n\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  if (type === ElementTypeMemo) {\n    if (hocDisplayNames === null) {\n      hocDisplayNames = ['Memo'];\n    } else {\n      hocDisplayNames.unshift('Memo');\n    }\n  } else if (type === ElementTypeForwardRef) {\n    if (hocDisplayNames === null) {\n      hocDisplayNames = ['ForwardRef'];\n    } else {\n      hocDisplayNames.unshift('ForwardRef');\n    }\n  }\n\n  return [displayName, hocDisplayNames];\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (Array.isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (Array.isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'data_view'\n  | 'date'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'object'\n  | 'react_element'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (isElement(data)) {\n    return 'react_element';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      if (Array.isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        return data[Symbol.iterator]() === data\n          ? 'opaque_iterator'\n          : 'iterator';\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else {\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOf(element);\n  switch (elementType) {\n    case ContextConsumer:\n      return 'ContextConsumer';\n    case ContextProvider:\n      return 'ContextProvider';\n    case ForwardRef:\n      return 'ForwardRef';\n    case Fragment:\n      return 'Fragment';\n    case Lazy:\n      return 'Lazy';\n    case Memo:\n      return 'Memo';\n    case Portal:\n      return 'Portal';\n    case Profiler:\n      return 'Profiler';\n    case StrictMode:\n      return 'StrictMode';\n    case Suspense:\n      return 'Suspense';\n    case SuspenseList:\n      return 'SuspenseList';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.substr(0, length) + '';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      return truncateForDisplay(\n        ` ${typeof data.name === 'function' ? '' : data.name}() {}`,\n      );\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (Array.isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'object':\n      if (showFormattedValue) {\n        const keys = getAllEnumerableKeys(data).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{}';\n      }\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return data;\n    default:\n      try {\n        return truncateForDisplay('' + data);\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type Wall = {|\n  // `listen` returns the \"unlisten\" function.\n  listen: (fn: Function) => Function,\n  send: (event: string, payload: any, transferable?: Array<any>) => void,\n|};\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new element types are added, use new numbers rather than re-ordering existing ones.\n//\n// Changing these types is also a backwards breaking change for the standalone shell,\n// since the frontend and backend must share the same values-\n// and the backend is embedded in certain environments (like React Native).\nexport const ElementTypeClass = 1;\nexport const ElementTypeContext = 2;\nexport const ElementTypeFunction = 5;\nexport const ElementTypeForwardRef = 6;\nexport const ElementTypeHostComponent = 7;\nexport const ElementTypeMemo = 8;\nexport const ElementTypeOtherOrUnknown = 9;\nexport const ElementTypeProfiler = 10;\nexport const ElementTypeRoot = 11;\nexport const ElementTypeSuspense = 12;\nexport const ElementTypeSuspenseList = 13;\n\n// Different types of elements displayed in the Elements tree.\n// These types may be used to visually distinguish types,\n// or to enable/disable certain functionality.\nexport type ElementType = 1 | 2 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13;\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new filter types are added, use new numbers rather than re-ordering existing ones.\nexport const ComponentFilterElementType = 1;\nexport const ComponentFilterDisplayName = 2;\nexport const ComponentFilterLocation = 3;\nexport const ComponentFilterHOC = 4;\n\nexport type ComponentFilterType = 1 | 2 | 3 | 4;\n\n// Hide all elements of types in this Set.\n// We hide host components only by default.\nexport type ElementTypeComponentFilter = {|\n  isEnabled: boolean,\n  type: 1,\n  value: ElementType,\n|};\n\n// Hide all elements with displayNames or paths matching one or more of the RegExps in this Set.\n// Path filters are only used when elements include debug source location.\nexport type RegExpComponentFilter = {|\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 2 | 3,\n  value: string,\n|};\n\nexport type BooleanComponentFilter = {|\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 4,\n|};\n\nexport type ComponentFilter =\n  | BooleanComponentFilter\n  | ElementTypeComponentFilter\n  | RegExpComponentFilter;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const BLOCK_NUMBER = 0xead9;\nexport const BLOCK_SYMBOL_STRING = 'Symbol(react.block)';\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_NUMBER = 0xeac7;\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const FUNDAMENTAL_NUMBER = 0xead5;\nexport const FUNDAMENTAL_SYMBOL_STRING = 'Symbol(react.fundamental)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const OPAQUE_ID_NUMBER = 0xeae0;\nexport const OPAQUE_ID_SYMBOL_STRING = 'Symbol(react.opaque.id)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const SERVER_BLOCK_NUMBER = 0xeada;\nexport const SERVER_BLOCK_SYMBOL_STRING = 'Symbol(react.server.block)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// Flip this flag to true to enable verbose console debug logging.\nexport const __DEBUG__ = false;\n\nexport const TREE_OPERATION_ADD = 1;\nexport const TREE_OPERATION_REMOVE = 2;\nexport const TREE_OPERATION_REORDER_CHILDREN = 3;\nexport const TREE_OPERATION_UPDATE_TREE_BASE_DURATION = 4;\n\nexport const LOCAL_STORAGE_FILTER_PREFERENCES_KEY =\n  'React::DevTools::componentFilters';\n\nexport const SESSION_STORAGE_LAST_SELECTION_KEY =\n  'React::DevTools::lastSelection';\n\nexport const SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY =\n  'React::DevTools::recordChangeDescriptions';\n\nexport const SESSION_STORAGE_RELOAD_AND_PROFILE_KEY =\n  'React::DevTools::reloadAndProfile';\n\nexport const LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS =\n  'React::DevTools::breakOnConsoleErrors';\n\nexport const LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY =\n  'React::DevTools::appendComponentStack';\n\nexport const LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY =\n  'React::DevTools::traceUpdatesEnabled';\n\nexport const PROFILER_EXPORT_VERSION = 4;\n\nexport const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/master/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\n// HACK\n//\n// Extracting during build time avoids a temporarily invalid state for the inline target.\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\n//\nlet COMFORTABLE_LINE_HEIGHT;\nlet COMPACT_LINE_HEIGHT;\n\ntry {\n  // $FlowFixMe\n  const rawStyleString = require('!!raw-loader!react-devtools-shared/src/devtools/views/root.css')\n    .default;\n\n  const extractVar = varName => {\n    const regExp = new RegExp(`${varName}: ([0-9]+)`);\n    const match = rawStyleString.match(regExp);\n    return parseInt(match[1], 10);\n  };\n\n  COMFORTABLE_LINE_HEIGHT = extractVar('comfortable-line-height-data');\n  COMPACT_LINE_HEIGHT = extractVar('compact-line-height-data');\n} catch (error) {\n  // We can't use the Webpack loader syntax in the context of Jest,\n  // so tests need some reasonably meaningful fallback value.\n  COMFORTABLE_LINE_HEIGHT = 15;\n  COMPACT_LINE_HEIGHT = 10;\n}\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function localStorageGetItem(key: string): any {\n  try {\n    return localStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function localStorageRemoveItem(key: string): void {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function localStorageSetItem(key: string, value: any): void {\n  try {\n    return localStorage.setItem(key, value);\n  } catch (error) {}\n}\n\nexport function sessionStorageGetItem(key: string): any {\n  try {\n    return sessionStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function sessionStorageRemoveItem(key: string): void {\n  try {\n    sessionStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function sessionStorageSetItem(key: string, value: any): void {\n  try {\n    return sessionStorage.setItem(key, value);\n  } catch (error) {}\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {copy} from 'clipboard-js';\nimport {dehydrate} from '../hydration';\n\nimport type {DehydratedData} from 'react-devtools-shared/src/devtools/views/Components/types';\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path?: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths = [];\n    const unserializablePaths = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyToClipboard(value: any): void {\n  const safeToCopy = serializeToString(value);\n  const text = safeToCopy === undefined ? 'undefined' : safeToCopy;\n  const {clipboardCopyText} = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n\n  // On Firefox navigator.clipboard.writeText has to be called from\n  // the content script js code (because it requires the clipboardWrite\n  // permission to be allowed out of a \"user handling\" callback),\n  // clipboardCopyText is an helper injected into the page from.\n  // injectGlobalHook.\n  if (typeof clipboardCopyText === 'function') {\n    clipboardCopyText(text).catch(err => {});\n  } else {\n    copy(text);\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = Array.isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (Array.isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = Array.isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (Array.isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = Array.isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function serializeToString(data: any): string {\n  const cache = new Set();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(data, (key, value) => {\n    if (typeof value === 'object' && value !== null) {\n      if (cache.has(value)) {\n        return;\n      }\n      cache.add(value);\n    }\n    // $FlowFixMe\n    if (typeof value === 'bigint') {\n      return value.toString() + 'n';\n    }\n    return value;\n  });\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from './utils';\n\nimport type {DehydratedData} from 'react-devtools-shared/src/devtools/views/Components/types';\n\nexport const meta = {\n  inspectable: Symbol('inspectable'),\n  inspected: Symbol('inspected'),\n  name: Symbol('name'),\n  preview_long: Symbol('preview_long'),\n  preview_short: Symbol('preview_short'),\n  readonly: Symbol('readonly'),\n  size: Symbol('size'),\n  type: Symbol('type'),\n  unserializable: Symbol('unserializable'),\n};\n\nexport type Dehydrated = {|\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n|};\n\n// Typed arrays and other complex iteratable objects (e.g. Map, Set, ImmutableJS) need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  ...\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      !data.constructor || data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level?: number = 0,\n):\n  | string\n  | Dehydrated\n  | Unserializable\n  | Array<Dehydrated>\n  | Array<Unserializable>\n  | {[key: string]: string | Dehydrated | Unserializable, ...} {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      return data.length <= 500 ? data : data.slice(0, 500) + '...';\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    // React Elements aren't very inspector-friendly,\n    // and often contain private fields or circular references.\n    case 'react_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n        type,\n      };\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      return data.map((item, i) =>\n        dehydrate(\n          item,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        ),\n      );\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            !data.constructor || data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        if (typeof data[Symbol.iterator]) {\n          // TRICKY\n          // Don't use [...spread] syntax for this purpose.\n          // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n          // Other types (e.g. typed arrays, Sets) will not spread correctly.\n          Array.from(data).forEach(\n            (item, i) =>\n              (unserializableValue[i] = dehydrate(\n                item,\n                cleaned,\n                unserializable,\n                path.concat([i]),\n                isPathAllowed,\n                isPathAllowedCheck ? 1 : level + 1,\n              )),\n          );\n        }\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrate(\n            data[key],\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {\n        type,\n      };\n\n    default:\n      return data;\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: Array<string | number>,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: Symbol]: boolean | string, ...} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (__DEV__) {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd;\n      // https://github.com/facebook/react/issues/19099\n      const props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true,\n      };\n      // $FlowFixMe Flow thinks console is immutable.\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props,\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n    disabledDepth++;\n  }\n}\n\nexport function reenableLogs(): void {\n  if (__DEV__) {\n    disabledDepth--;\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      const props = {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n      };\n      // $FlowFixMe Flow thinks console is immutable.\n      Object.defineProperties(console, {\n        log: {...props, value: prevLog},\n        info: {...props, value: prevInfo},\n        warn: {...props, value: prevWarn},\n        error: {...props, value: prevError},\n        group: {...props, value: prevGroup},\n        groupCollapsed: {...props, value: prevGroupCollapsed},\n        groupEnd: {...props, value: prevGroupEnd},\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n    if (disabledDepth < 0) {\n      console.error(\n        'disabledDepth fell below zero. ' +\n          'This is a bug in React. Please file an issue.',\n      );\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Source} from 'shared/ReactElementType';\nimport type {LazyComponent} from 'react/src/ReactLazy';\nimport type {CurrentDispatcherRef} from './types';\n\nimport {\n  BLOCK_NUMBER,\n  BLOCK_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  LAZY_NUMBER,\n  LAZY_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SUSPENSE_NUMBER,\n  SUSPENSE_SYMBOL_STRING,\n  SUSPENSE_LIST_NUMBER,\n  SUSPENSE_LIST_SYMBOL_STRING,\n} from './ReactSymbols';\n\n// These methods are safe to import from shared;\n// there is no React-specific logic here.\nimport {disableLogs, reenableLogs} from 'shared/ConsolePatchingDev';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(\n  name: string,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  return '\\n' + prefix + name;\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  let control;\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.current;\n  currentDispatcherRef.current = null;\n  disableLogs();\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      const Fake = function() {\n        throw Error();\n      };\n      // $FlowFixMe\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function() {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        },\n      });\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sample.stack.split('\\n');\n      const controlLines = control.stack.split('\\n');\n      let s = sampleLines.length - 1;\n      let c = controlLines.length - 1;\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                const frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.current = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n\nfunction shouldConstruct(Component: Function) {\n  const prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nexport function describeUnknownElementTypeFrameInDEV(\n  type: any,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  if (!__DEV__) {\n    return '';\n  }\n  if (type == null) {\n    return '';\n  }\n  if (typeof type === 'function') {\n    return describeNativeComponentFrame(\n      type,\n      shouldConstruct(type),\n      currentDispatcherRef,\n    );\n  }\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type, source, ownerFn);\n  }\n  switch (type) {\n    case SUSPENSE_NUMBER:\n    case SUSPENSE_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('Suspense', source, ownerFn);\n    case SUSPENSE_LIST_NUMBER:\n    case SUSPENSE_LIST_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('SuspenseList', source, ownerFn);\n  }\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return describeFunctionComponentFrame(\n          type.render,\n          source,\n          ownerFn,\n          currentDispatcherRef,\n        );\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(\n          type.type,\n          source,\n          ownerFn,\n          currentDispatcherRef,\n        );\n      case BLOCK_NUMBER:\n      case BLOCK_SYMBOL_STRING:\n        return describeFunctionComponentFrame(\n          type._render,\n          source,\n          ownerFn,\n          currentDispatcherRef,\n        );\n      case LAZY_NUMBER:\n      case LAZY_SYMBOL_STRING: {\n        const lazyComponent: LazyComponent<any, any> = (type: any);\n        const payload = lazyComponent._payload;\n        const init = lazyComponent._init;\n        try {\n          // Lazy may contain any component type so we recursively resolve it.\n          return describeUnknownElementTypeFrameInDEV(\n            init(payload),\n            source,\n            ownerFn,\n            currentDispatcherRef,\n          );\n        } catch (x) {}\n      }\n    }\n  }\n  return '';\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from './types';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n} from './DevToolsComponentStackFrame';\n\nfunction describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    Block,\n    ClassComponent,\n  } = workTagMap;\n\n  const owner: null | Function = __DEV__\n    ? workInProgress._debugOwner\n      ? workInProgress._debugOwner.type\n      : null\n    : null;\n  const source = __DEV__ ? workInProgress._debugSource : null;\n  switch (workInProgress.tag) {\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type, source, owner);\n    case LazyComponent:\n      return describeBuiltInComponentFrame('Lazy', source, owner);\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense', source, owner);\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList', source, owner);\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        source,\n        owner,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        source,\n        owner,\n        currentDispatcherRef,\n      );\n    case Block:\n      return describeFunctionComponentFrame(\n        workInProgress.type._render,\n        source,\n        owner,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        source,\n        owner,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, ReactRenderer, WorkTagMap} from './types';\n\nimport {getInternalReactConstants} from './renderer';\nimport {getStackByFiberInDevAndProd} from './DevToolsFiberComponentStack';\n\nconst APPEND_STACK_TO_METHODS = ['error', 'trace', 'warn'];\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nconst injectedRenderers: Map<\n  ReactRenderer,\n  {|\n    currentDispatcherRef: CurrentDispatcherRef,\n    getCurrentFiber: () => Fiber | null,\n    workTagMap: WorkTagMap,\n  |},\n> = new Map();\n\nlet targetConsole: Object = console;\nlet targetConsoleMethods = {};\nfor (const method in console) {\n  targetConsoleMethods[method] = console[method];\n}\n\nlet unpatchFn: null | (() => void) = null;\n\n// Enables e.g. Jest tests to inject a mock console object.\nexport function dangerous_setTargetConsoleForTesting(\n  targetConsoleForTesting: Object,\n): void {\n  targetConsole = targetConsoleForTesting;\n\n  targetConsoleMethods = {};\n  for (const method in targetConsole) {\n    targetConsoleMethods[method] = console[method];\n  }\n}\n\n// v16 renderers should use this method to inject internals necessary to generate a component stack.\n// These internals will be used if the console is patched.\n// Injecting them separately allows the console to easily be patched or un-patched later (at runtime).\nexport function registerRenderer(renderer: ReactRenderer): void {\n  const {\n    currentDispatcherRef,\n    getCurrentFiber,\n    findFiberByHostInstance,\n    version,\n  } = renderer;\n\n  // Ignore React v15 and older because they don't expose a component stack anyway.\n  if (typeof findFiberByHostInstance !== 'function') {\n    return;\n  }\n\n  // currentDispatcherRef gets injected for v16.8+ to support hooks inspection.\n  // getCurrentFiber gets injected for v16.9+.\n  if (currentDispatcherRef != null && typeof getCurrentFiber === 'function') {\n    const {ReactTypeOfWork} = getInternalReactConstants(version);\n\n    injectedRenderers.set(renderer, {\n      currentDispatcherRef,\n      getCurrentFiber,\n      workTagMap: ReactTypeOfWork,\n    });\n  }\n}\n\nconst consoleSettingsRef = {\n  appendComponentStack: false,\n  breakOnConsoleErrors: false,\n};\n\n// Patches console methods to append component stack for the current fiber.\n// Call unpatch() to remove the injected behavior.\nexport function patch({\n  appendComponentStack,\n  breakOnConsoleErrors,\n}: {\n  appendComponentStack: boolean,\n  breakOnConsoleErrors: boolean,\n}): void {\n  // Settings may change after we've patched the console.\n  // Using a shared ref allows the patch function to read the latest values.\n  consoleSettingsRef.appendComponentStack = appendComponentStack;\n  consoleSettingsRef.breakOnConsoleErrors = breakOnConsoleErrors;\n\n  if (unpatchFn !== null) {\n    // Don't patch twice.\n    return;\n  }\n\n  const originalConsoleMethods = {};\n\n  unpatchFn = () => {\n    for (const method in originalConsoleMethods) {\n      try {\n        // $FlowFixMe property error|warn is not writable.\n        targetConsole[method] = originalConsoleMethods[method];\n      } catch (error) {}\n    }\n  };\n\n  APPEND_STACK_TO_METHODS.forEach(method => {\n    try {\n      const originalMethod = (originalConsoleMethods[method] =\n        targetConsole[method]);\n\n      const overrideMethod = (...args) => {\n        const latestAppendComponentStack =\n          consoleSettingsRef.appendComponentStack;\n        const latestBreakOnConsoleErrors =\n          consoleSettingsRef.breakOnConsoleErrors;\n\n        if (latestAppendComponentStack) {\n          try {\n            // If we are ever called with a string that already has a component stack, e.g. a React error/warning,\n            // don't append a second stack.\n            const lastArg = args.length > 0 ? args[args.length - 1] : null;\n            const alreadyHasComponentStack =\n              lastArg !== null &&\n              (PREFIX_REGEX.test(lastArg) ||\n                ROW_COLUMN_NUMBER_REGEX.test(lastArg));\n\n            if (!alreadyHasComponentStack) {\n              // If there's a component stack for at least one of the injected renderers, append it.\n              // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n              // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n              for (const {\n                currentDispatcherRef,\n                getCurrentFiber,\n                workTagMap,\n              } of injectedRenderers.values()) {\n                const current: ?Fiber = getCurrentFiber();\n                if (current != null) {\n                  const componentStack = getStackByFiberInDevAndProd(\n                    workTagMap,\n                    current,\n                    currentDispatcherRef,\n                  );\n                  if (componentStack !== '') {\n                    args.push(componentStack);\n                  }\n                  break;\n                }\n              }\n            }\n          } catch (error) {\n            // Don't let a DevTools or React internal error interfere with logging.\n          }\n        }\n\n        if (latestBreakOnConsoleErrors) {\n          // --- Welcome to debugging with React DevTools ---\n          // This debugger statement means that you've enabled the \"break on warnings\" feature.\n          // Use the browser's Call Stack panel to step out of this override function-\n          // to where the original warning or error was logged.\n          // eslint-disable-next-line no-debugger\n          debugger;\n        }\n\n        originalMethod(...args);\n      };\n\n      overrideMethod.__REACT_DEVTOOLS_ORIGINAL_METHOD__ = originalMethod;\n\n      // $FlowFixMe property error|warn is not writable.\n      targetConsole[method] = overrideMethod;\n    } catch (error) {}\n  });\n}\n\n// Removed component stack patch from console methods.\nexport function unpatch(): void {\n  if (unpatchFn !== null) {\n    unpatchFn();\n    unpatchFn = null;\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default class EventEmitter<Events: Object> {\n  listenersMap: Map<string, Array<Function>> = new Map();\n\n  addListener<Event: $Keys<Events>>(\n    event: Event,\n    listener: (...$ElementType<Events, Event>) => any,\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners === undefined) {\n      this.listenersMap.set(event, [listener]);\n    } else {\n      const index = listeners.indexOf(listener);\n      if (index < 0) {\n        listeners.push(listener);\n      }\n    }\n  }\n\n  emit<Event: $Keys<Events>>(\n    event: Event,\n    ...args: $ElementType<Events, Event>\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      if (listeners.length === 1) {\n        // No need to clone or try/catch\n        const listener = listeners[0];\n        listener.apply(null, args);\n      } else {\n        let didThrow = false;\n        let caughtError = null;\n\n        const clonedListeners = Array.from(listeners);\n        for (let i = 0; i < clonedListeners.length; i++) {\n          const listener = clonedListeners[i];\n          try {\n            listener.apply(null, args);\n          } catch (error) {\n            if (caughtError === null) {\n              didThrow = true;\n              caughtError = error;\n            }\n          }\n        }\n\n        if (didThrow) {\n          throw caughtError;\n        }\n      }\n    }\n  }\n\n  removeAllListeners(): void {\n    this.listenersMap.clear();\n  }\n\n  removeListener(event: $Keys<Events>, listener: Function): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      const index = listeners.indexOf(listener);\n      if (index >= 0) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {gte} from 'semver';\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n} from 'react-devtools-shared/src/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n} from 'react-devtools-shared/src/utils';\nimport {sessionStorageGetItem} from 'react-devtools-shared/src/storage';\nimport {\n  cleanForBridge,\n  copyToClipboard,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n} from './utils';\nimport {\n  __DEBUG__,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from '../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  patch as patchConsole,\n  registerRenderer as registerRendererWithConsole,\n} from './console';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n} from './ReactSymbols';\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  Owner,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  WorkTagMap,\n} from './types';\nimport type {Interaction} from 'react-devtools-shared/src/devtools/views/Profiler/types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/types';\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => Symbol | number;\n\ntype ReactPriorityLevelsType = {|\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n|};\n\ntype ReactTypeOfSideEffectType = {|\n  NoFlags: number,\n  PerformedWork: number,\n  Placement: number,\n|};\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(\n  version: string,\n): {|\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfSideEffect: ReactTypeOfSideEffectType,\n  ReactTypeOfWork: WorkTagMap,\n|} {\n  const ReactTypeOfSideEffect: ReactTypeOfSideEffectType = {\n    NoFlags: 0b00,\n    PerformedWork: 0b01,\n    Placement: 0b10,\n  };\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  const ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  if (gte(version, '17.0.0-alpha')) {\n    // TODO (Offscreen) Update the version number above to reflect the first Offscreen alpha/beta release.\n    ReactTypeOfWork = {\n      Block: 22,\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      Block: 22,\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      Block: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else {\n    ReactTypeOfWork = {\n      Block: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): Symbol | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    // $FlowFixMe Flow doesn't know about typeof \"symbol\"\n    return typeof symbolOrNumber === 'symbol'\n      ? symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    ClassComponent,\n    IncompleteClassComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    MemoComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any) {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(fiber: Fiber): string | null {\n    const {type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return getDisplayName(resolvedType);\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        // Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\n        return (\n          (type && type.displayName) ||\n          getDisplayName(resolvedType, 'Anonymous')\n        );\n      case HostRoot:\n        return null;\n      case HostComponent:\n        return type;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return null;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return getDisplayName(resolvedType, 'Anonymous');\n      case SuspenseComponent:\n        return 'Suspense';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    ReactTypeOfSideEffect,\n  };\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    ReactTypeOfSideEffect,\n  } = getInternalReactConstants(renderer.version);\n  const {NoFlags, PerformedWork, Placement} = ReactTypeOfSideEffect;\n  const {\n    FunctionComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    Fragment,\n    ForwardRef,\n    HostRoot,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IndeterminateComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    setSuspenseHandler,\n    scheduleUpdate,\n  } = renderer;\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n\n  // Patching the console enables DevTools to do a few useful things:\n  // * Append component stacks to warnings and error messages\n  // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n  //\n  // Don't patch in test environments because we don't want to interfere with Jest's own console overrides.\n  if (process.env.NODE_ENV !== 'test') {\n    registerRendererWithConsole(renderer);\n\n    // The renderer interface can't read these preferences directly,\n    // because it is stored in localStorage within the context of the extension.\n    // It relies on the extension to pass the preference through via the global.\n    const appendComponentStack =\n      window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ !== false;\n    const breakOnConsoleErrors =\n      window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ === true;\n    if (appendComponentStack || breakOnConsoleErrors) {\n      patchConsole({\n        appendComponentStack,\n        breakOnConsoleErrors,\n      });\n    }\n  }\n\n  const debug = (name: string, fiber: Fiber, parentFiber: ?Fiber): void => {\n    if (__DEBUG__) {\n      const displayName = getDisplayNameForFiber(fiber) || 'null';\n      const id = getFiberID(fiber);\n      const parentDisplayName =\n        (parentFiber != null && getDisplayNameForFiber(parentFiber)) || 'null';\n      const parentID = parentFiber ? getFiberID(parentFiber) : '';\n      // NOTE: calling getFiberID or getPrimaryFiber is unsafe here\n      // because it will put them in the map. For now, we'll omit them.\n      // TODO: better debugging story for this.\n      console.log(\n        `[renderer] %c${name} %c${displayName} (${id}) %c${\n          parentFiber ? `${parentDisplayName} (${parentID})` : ''\n        }`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n      );\n    }\n  };\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<NativeType> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    applyComponentFilters(window.__REACT_DEVTOOLS_COMPONENT_FILTERS__);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn(' DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getFiberID(getPrimaryFiber(root.current));\n      unmountFiberChildrenRecursively(root.current);\n      recordUnmount(root.current, false);\n      currentRootID = -1;\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getFiberID(getPrimaryFiber(root.current));\n      setRootPseudoKey(currentRootID, root.current);\n      mountFiberRecursively(root.current, null, false, false);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {_debugSource, tag, type} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n      case OffscreenComponent:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (_debugSource != null && hideElementsWithPaths.size > 0) {\n      const {fileName} = _debugSource;\n      // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n      for (const pathRegExp of hideElementsWithPaths) {\n        if (pathRegExp.test(fileName)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // This is a slightly annoying indirection.\n  // It is currently necessary because DevTools wants to use unique objects as keys for instances.\n  // However fibers have two versions.\n  // We use this set to remember first encountered fiber for each conceptual instance.\n  function getPrimaryFiber(fiber: Fiber): Fiber {\n    if (primaryFibers.has(fiber)) {\n      return fiber;\n    }\n    const {alternate} = fiber;\n    if (alternate != null && primaryFibers.has(alternate)) {\n      return alternate;\n    }\n    primaryFibers.add(fiber);\n    return fiber;\n  }\n\n  const fiberToIDMap: Map<Fiber, number> = new Map();\n  const idToFiberMap: Map<number, Fiber> = new Map();\n  const primaryFibers: Set<Fiber> = new Set();\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This is so that we can quickly capture a snapshot of those values if profiling starts.\n  // If we didn't store these values, we'd have to crawl the tree when profiling started,\n  // and use a slow path to find each of the current Fibers.\n  const idToTreeBaseDurationMap: Map<number, number> = new Map();\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This map enables us to filter these times by root when sending them to the frontend.\n  const idToRootMap: Map<number, number> = new Map();\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRootID: number = -1;\n\n  function getFiberID(primaryFiber: Fiber): number {\n    if (!fiberToIDMap.has(primaryFiber)) {\n      const id = getUID();\n      fiberToIDMap.set(primaryFiber, id);\n      idToFiberMap.set(id, primaryFiber);\n    }\n    return ((fiberToIDMap.get(primaryFiber): any): number);\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (getElementTypeForFiber(nextFiber)) {\n      case ElementTypeClass:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n      case ElementTypeForwardRef:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          return {\n            context: getContextChangedKeys(nextFiber),\n            didHooksChange: didHooksChange(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n        }\n      default:\n        return null;\n    }\n  }\n\n  function updateContextsForFiber(fiber: Fiber) {\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n        if (idToContextsMap !== null) {\n          const id = getFiberID(getPrimaryFiber(fiber));\n          const contexts = getContextsForFiber(fiber);\n          if (contexts !== null) {\n            idToContextsMap.set(id, contexts);\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  // Differentiates between a null context value and no context.\n  const NO_CONTEXT = {};\n\n  function getContextsForFiber(fiber: Fiber): [Object, any] | null {\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n        const instance = fiber.stateNode;\n        let legacyContext = NO_CONTEXT;\n        let modernContext = NO_CONTEXT;\n        if (instance != null) {\n          if (\n            instance.constructor &&\n            instance.constructor.contextType != null\n          ) {\n            modernContext = instance.context;\n          } else {\n            legacyContext = instance.context;\n            if (legacyContext && Object.keys(legacyContext).length === 0) {\n              legacyContext = NO_CONTEXT;\n            }\n          }\n        }\n        return [legacyContext, modernContext];\n      default:\n        return null;\n    }\n  }\n\n  // Record all contexts at the time profiling is started.\n  // Fibers only store the current context value,\n  // so we need to track them separately in order to determine changed keys.\n  function crawlToInitializeContextsMap(fiber: Fiber) {\n    updateContextsForFiber(fiber);\n    let current = fiber.child;\n    while (current !== null) {\n      crawlToInitializeContextsMap(current);\n      current = current.sibling;\n    }\n  }\n\n  function getContextChangedKeys(fiber: Fiber): null | boolean | Array<string> {\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n        if (idToContextsMap !== null) {\n          const id = getFiberID(getPrimaryFiber(fiber));\n          const prevContexts = idToContextsMap.has(id)\n            ? idToContextsMap.get(id)\n            : null;\n          const nextContexts = getContextsForFiber(fiber);\n\n          if (prevContexts == null || nextContexts == null) {\n            return null;\n          }\n\n          const [prevLegacyContext, prevModernContext] = prevContexts;\n          const [nextLegacyContext, nextModernContext] = nextContexts;\n\n          if (nextLegacyContext !== NO_CONTEXT) {\n            return getChangedKeys(prevLegacyContext, nextLegacyContext);\n          } else if (nextModernContext !== NO_CONTEXT) {\n            return prevModernContext !== nextModernContext;\n          }\n        }\n        break;\n      default:\n        break;\n    }\n    return null;\n  }\n\n  function didHooksChange(prev: any, next: any): boolean {\n    if (prev == null || next == null) {\n      return false;\n    }\n\n    // We can't report anything meaningful for hooks changes.\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      while (next !== null) {\n        if (next.memoizedState !== prev.memoizedState) {\n          return true;\n        } else {\n          next = next.next;\n          prev = prev.next;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    // We can't report anything meaningful for hooks changes.\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // eslint-disable-next-line no-bitwise\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingRealUnmountedIDs: Array<number> = [];\n  const pendingSimulatedUnmountedIDs: Array<number> = [];\n  let pendingOperationsQueue: Array<Array<number>> | null = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function flushPendingEvents(root: Object): void {\n    if (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingSimulatedUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      if (!isProfiling) {\n        return;\n      }\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      pendingSimulatedUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n      // How big is the string table?\n      1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = currentRootID; // Use this ID in case the root was unmounted!\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = pendingRealUnmountedIDs.length - 1; j >= 0; j--) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // Fill in the simulated unmounts (hidden Suspense subtrees) in their order.\n      // (We want children to go before parents.)\n      // They go *after* the real unmounts because we know for sure they won't be\n      // children of already pushed \"real\" IDs. If they were, we wouldn't be able\n      // to discover them during the traversal, as they would have been deleted.\n      for (let j = 0; j < pendingSimulatedUnmountedIDs.length; j++) {\n        operations[i + j] = pendingSimulatedUnmountedIDs[j];\n      }\n      i += pendingSimulatedUnmountedIDs.length;\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Let the frontend know about tree operations.\n    // The first value in this array will identify which root it corresponds to,\n    // so we do no longer need to dispatch a separate root-committed event.\n    if (pendingOperationsQueue !== null) {\n      // Until the frontend has been connected, store the tree operations.\n      // This will let us avoid walking the tree later when the frontend connects,\n      // and it enables the Profiler's reload-and-profile functionality to work as well.\n      pendingOperationsQueue.push(operations);\n    } else {\n      // If we've already connected to the frontend, just pass the operations through.\n      hook.emit('operations', operations);\n    }\n\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingSimulatedUnmountedIDs.length = 0;\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  function recordMount(fiber: Fiber, parentFiber: Fiber | null) {\n    if (__DEBUG__) {\n      debug('recordMount()', fiber, parentFiber);\n    }\n\n    const isRoot = fiber.tag === HostRoot;\n    const id = getFiberID(getPrimaryFiber(fiber));\n\n    const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    if (isRoot) {\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(isProfilingSupported ? 1 : 0);\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n      const {_debugOwner} = fiber;\n\n      const ownerID =\n        _debugOwner != null ? getFiberID(getPrimaryFiber(_debugOwner)) : 0;\n      const parentID = parentFiber\n        ? getFiberID(getPrimaryFiber(parentFiber))\n        : 0;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : '' + key;\n      const keyStringID = getStringID(keyString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n\n    if (isProfilingSupported) {\n      idToRootMap.set(id, currentRootID);\n\n      recordProfilingDurations(fiber);\n    }\n  }\n\n  function recordUnmount(fiber: Fiber, isSimulated: boolean) {\n    if (__DEBUG__) {\n      debug('recordUnmount()', fiber);\n    }\n\n    if (trackedPathMatchFiber !== null) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      if (\n        fiber === trackedPathMatchFiber ||\n        fiber === trackedPathMatchFiber.alternate\n      ) {\n        setTrackedPath(null);\n      }\n    }\n\n    const isRoot = fiber.tag === HostRoot;\n    const primaryFiber = getPrimaryFiber(fiber);\n    if (!fiberToIDMap.has(primaryFiber)) {\n      // If we've never seen this Fiber, it might be because\n      // it is inside a non-current Suspense fragment tree,\n      // and so the store is not even aware of it.\n      // In that case we can just ignore it, or otherwise\n      // there will be errors later on.\n      primaryFibers.delete(primaryFiber);\n      // TODO: this is fragile and can obscure actual bugs.\n      return;\n    }\n    const id = getFiberID(primaryFiber);\n    if (isRoot) {\n      // Roots must be removed only after all children (pending and simulated) have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else if (!shouldFilterFiber(fiber)) {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      if (isSimulated) {\n        pendingSimulatedUnmountedIDs.push(id);\n      } else {\n        pendingRealUnmountedIDs.push(id);\n      }\n    }\n    fiberToIDMap.delete(primaryFiber);\n    idToFiberMap.delete(id);\n    primaryFibers.delete(primaryFiber);\n\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n    if (isProfilingSupported) {\n      idToRootMap.delete(id);\n      idToTreeBaseDurationMap.delete(id);\n    }\n  }\n\n  function mountFiberRecursively(\n    fiber: Fiber,\n    parentFiber: Fiber | null,\n    traverseSiblings: boolean,\n    traceNearestHostComponentUpdate: boolean,\n  ) {\n    if (__DEBUG__) {\n      debug('mountFiberRecursively()', fiber, parentFiber);\n    }\n\n    // If we have the tree selection from previous reload, try to match this Fiber.\n    // Also remember whether to do the same for siblings.\n    const mightSiblingsBeOnTrackedPath = updateTrackedPathStateBeforeMount(\n      fiber,\n    );\n\n    const shouldIncludeInTree = !shouldFilterFiber(fiber);\n    if (shouldIncludeInTree) {\n      recordMount(fiber, parentFiber);\n    }\n\n    if (traceUpdatesEnabled) {\n      if (traceNearestHostComponentUpdate) {\n        const elementType = getElementTypeForFiber(fiber);\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(fiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      }\n\n      // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n      // because we don't want to highlight every host node inside of a newly mounted subtree.\n    }\n\n    const isSuspense = fiber.tag === ReactTypeOfWork.SuspenseComponent;\n    if (isSuspense) {\n      const isTimedOut = fiber.memoizedState !== null;\n      if (isTimedOut) {\n        // Special case: if Suspense mounts in a timed-out state,\n        // get the fallback child from the inner fragment and mount\n        // it as if it was our own child. Updates handle this too.\n        const primaryChildFragment = fiber.child;\n        const fallbackChildFragment = primaryChildFragment\n          ? primaryChildFragment.sibling\n          : null;\n        const fallbackChild = fallbackChildFragment\n          ? fallbackChildFragment.child\n          : null;\n        if (fallbackChild !== null) {\n          mountFiberRecursively(\n            fallbackChild,\n            shouldIncludeInTree ? fiber : parentFiber,\n            true,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      } else {\n        let primaryChild: Fiber | null = null;\n        const areSuspenseChildrenConditionallyWrapped =\n          OffscreenComponent === -1;\n        if (areSuspenseChildrenConditionallyWrapped) {\n          primaryChild = fiber.child;\n        } else if (fiber.child !== null) {\n          primaryChild = fiber.child.child;\n        }\n        if (primaryChild !== null) {\n          mountFiberRecursively(\n            primaryChild,\n            shouldIncludeInTree ? fiber : parentFiber,\n            true,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n    } else {\n      if (fiber.child !== null) {\n        mountFiberRecursively(\n          fiber.child,\n          shouldIncludeInTree ? fiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n      }\n    }\n\n    // We're exiting this Fiber now, and entering its siblings.\n    // If we have selection to restore, we might need to re-activate tracking.\n    updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n\n    if (traverseSiblings && fiber.sibling !== null) {\n      mountFiberRecursively(\n        fiber.sibling,\n        parentFiber,\n        true,\n        traceNearestHostComponentUpdate,\n      );\n    }\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback.\n  function unmountFiberChildrenRecursively(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('unmountFiberChildrenRecursively()', fiber);\n    }\n\n    // We might meet a nested Suspense on our way.\n    const isTimedOutSuspense =\n      fiber.tag === ReactTypeOfWork.SuspenseComponent &&\n      fiber.memoizedState !== null;\n\n    let child = fiber.child;\n    if (isTimedOutSuspense) {\n      // If it's showing fallback tree, let's traverse it instead.\n      const primaryChildFragment = fiber.child;\n      const fallbackChildFragment = primaryChildFragment\n        ? primaryChildFragment.sibling\n        : null;\n      // Skip over to the real Fiber child.\n      child = fallbackChildFragment ? fallbackChildFragment.child : null;\n    }\n\n    while (child !== null) {\n      // Record simulated unmounts children-first.\n      // We skip nodes without return because those are real unmounts.\n      if (child.return !== null) {\n        unmountFiberChildrenRecursively(child);\n        recordUnmount(child, true);\n      }\n      child = child.sibling;\n    }\n  }\n\n  function recordProfilingDurations(fiber: Fiber) {\n    const id = getFiberID(getPrimaryFiber(fiber));\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    idToTreeBaseDurationMap.set(id, treeBaseDuration || 0);\n\n    if (isProfiling) {\n      const {alternate} = fiber;\n\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        alternate == null ||\n        treeBaseDuration !== alternate.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (alternate == null || didFiberRender(alternate, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata = ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(alternate, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n\n            updateContextsForFiber(fiber);\n          }\n        }\n      }\n    }\n  }\n\n  function recordResetChildren(fiber: Fiber, childSet: Fiber) {\n    if (__DEBUG__) {\n      debug('recordResetChildren()', childSet, fiber);\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    // This is a naive implementation that shallowly recourses children.\n    // We might want to revisit this if it proves to be too inefficient.\n    let child = childSet;\n    while (child !== null) {\n      findReorderedChildrenRecursively(child, nextChildren);\n      child = child.sibling;\n    }\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(getFiberID(getPrimaryFiber(fiber)));\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function findReorderedChildrenRecursively(\n    fiber: Fiber,\n    nextChildren: Array<number>,\n  ) {\n    if (!shouldFilterFiber(fiber)) {\n      nextChildren.push(getFiberID(getPrimaryFiber(fiber)));\n    } else {\n      let child = fiber.child;\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // Special case: if Suspense mounts in a timed-out state,\n        // get the fallback child from the inner fragment,\n        // and skip over the primary child.\n        const primaryChildFragment = fiber.child;\n        const fallbackChildFragment = primaryChildFragment\n          ? primaryChildFragment.sibling\n          : null;\n        const fallbackChild = fallbackChildFragment\n          ? fallbackChildFragment.child\n          : null;\n        if (fallbackChild !== null) {\n          child = fallbackChild;\n        }\n      }\n      while (child !== null) {\n        findReorderedChildrenRecursively(child, nextChildren);\n        child = child.sibling;\n      }\n    }\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    parentFiber: Fiber | null,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    if (__DEBUG__) {\n      debug('updateFiberRecursively()', nextFiber, parentFiber);\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id ===\n        getFiberID(getPrimaryFiber(nextFiber)) &&\n      didFiberRender(prevFiber, nextFiber)\n    ) {\n      // If this Fiber has updated, clear cached inspected data.\n      // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n      hasElementUpdatedSinceLastInspected = true;\n    }\n\n    const shouldIncludeInTree = !shouldFilterFiber(nextFiber);\n    const isSuspense = nextFiber.tag === SuspenseComponent;\n    let shouldResetChildren = false;\n    // The behavior of timed-out Suspense trees is unique.\n    // Rather than unmount the timed out content (and possibly lose important state),\n    // React re-parents this content within a hidden Fragment while the fallback is showing.\n    // This behavior doesn't need to be observable in the DevTools though.\n    // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n    // The easiest fix is to strip out the intermediate Fragment fibers,\n    // so the Elements panel and Profiler don't need to special case them.\n    // Suspense components only have a non-null memoizedState if they're timed-out.\n    const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n    const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n    // The logic below is inspired by the code paths in updateSuspenseComponent()\n    // inside ReactFiberBeginWork in the React source code.\n    if (prevDidTimeout && nextDidTimeOut) {\n      // Fallback -> Fallback:\n      // 1. Reconcile fallback set.\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      // Note: We can't use nextFiber.child.sibling.alternate\n      // because the set is special and alternate may not exist.\n      const prevFiberChild = prevFiber.child;\n      const prevFallbackChildSet = prevFiberChild\n        ? prevFiberChild.sibling\n        : null;\n      if (\n        nextFallbackChildSet != null &&\n        prevFallbackChildSet != null &&\n        updateFiberRecursively(\n          nextFallbackChildSet,\n          prevFallbackChildSet,\n          nextFiber,\n          traceNearestHostComponentUpdate,\n        )\n      ) {\n        shouldResetChildren = true;\n      }\n    } else if (prevDidTimeout && !nextDidTimeOut) {\n      // Fallback -> Primary:\n      // 1. Unmount fallback set\n      // Note: don't emulate fallback unmount because React actually did it.\n      // 2. Mount primary set\n      const nextPrimaryChildSet = nextFiber.child;\n      if (nextPrimaryChildSet !== null) {\n        mountFiberRecursively(\n          nextPrimaryChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n      }\n      shouldResetChildren = true;\n    } else if (!prevDidTimeout && nextDidTimeOut) {\n      // Primary -> Fallback:\n      // 1. Hide primary set\n      // This is not a real unmount, so it won't get reported by React.\n      // We need to manually walk the previous tree and record unmounts.\n      unmountFiberChildrenRecursively(prevFiber);\n      // 2. Mount fallback set\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      if (nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n        shouldResetChildren = true;\n      }\n    } else {\n      // Common case: Primary -> Primary.\n      // This is the same code path as for non-Suspense fibers.\n      if (nextFiber.child !== prevFiber.child) {\n        // If the first child is different, we need to traverse them.\n        // Each next child will be either a new child (mount) or an alternate (update).\n        let nextChild = nextFiber.child;\n        let prevChildAtSameIndex = prevFiber.child;\n        while (nextChild) {\n          // We already know children will be referentially different because\n          // they are either new mounts or alternates of previous children.\n          // Schedule updates and mounts depending on whether alternates exist.\n          // We don't track deletions here because they are reported separately.\n          if (nextChild.alternate) {\n            const prevChild = nextChild.alternate;\n            if (\n              updateFiberRecursively(\n                nextChild,\n                prevChild,\n                shouldIncludeInTree ? nextFiber : parentFiber,\n                traceNearestHostComponentUpdate,\n              )\n            ) {\n              // If a nested tree child order changed but it can't handle its own\n              // child order invalidation (e.g. because it's filtered out like host nodes),\n              // propagate the need to reset child order upwards to this Fiber.\n              shouldResetChildren = true;\n            }\n            // However we also keep track if the order of the children matches\n            // the previous order. They are always different referentially, but\n            // if the instances line up conceptually we'll want to know that.\n            if (prevChild !== prevChildAtSameIndex) {\n              shouldResetChildren = true;\n            }\n          } else {\n            mountFiberRecursively(\n              nextChild,\n              shouldIncludeInTree ? nextFiber : parentFiber,\n              false,\n              traceNearestHostComponentUpdate,\n            );\n            shouldResetChildren = true;\n          }\n          // Try the next child.\n          nextChild = nextChild.sibling;\n          // Advance the pointer in the previous list so that we can\n          // keep comparing if they line up.\n          if (!shouldResetChildren && prevChildAtSameIndex !== null) {\n            prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n          }\n        }\n        // If we have no more children, but used to, they don't line up.\n        if (prevChildAtSameIndex !== null) {\n          shouldResetChildren = true;\n        }\n      } else {\n        if (traceUpdatesEnabled) {\n          // If we're tracing updates and we've bailed out before reaching a host node,\n          // we should fall back to recursively marking the nearest host descendants for highlight.\n          if (traceNearestHostComponentUpdate) {\n            const hostFibers = findAllCurrentHostFibers(\n              getFiberID(getPrimaryFiber(nextFiber)),\n            );\n            hostFibers.forEach(hostFiber => {\n              traceUpdatesForNodes.add(hostFiber.stateNode);\n            });\n          }\n        }\n      }\n    }\n\n    if (shouldIncludeInTree) {\n      const isProfilingSupported = nextFiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        recordProfilingDurations(nextFiber);\n      }\n    }\n    if (shouldResetChildren) {\n      // We need to crawl the subtree for closest non-filtered Fibers\n      // so that we can display them in a flat children set.\n      if (shouldIncludeInTree) {\n        // Normally, search for children from the rendered child.\n        let nextChildSet = nextFiber.child;\n        if (nextDidTimeOut) {\n          // Special case: timed-out Suspense renders the fallback set.\n          const nextFiberChild = nextFiber.child;\n          nextChildSet = nextFiberChild ? nextFiberChild.sibling : null;\n        }\n        if (nextChildSet != null) {\n          recordResetChildren(nextFiber, nextChildSet);\n        }\n        // We've handled the child order change for this Fiber.\n        // Since it's included, there's no need to invalidate parent child order.\n        return false;\n      } else {\n        // Let the closest unfiltered parent Fiber reset its child order instead.\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function cleanup() {\n    // We don't patch any methods so there is no cleanup.\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        currentRootID = getFiberID(getPrimaryFiber(root.current));\n        setRootPseudoKey(currentRootID, root.current);\n\n        // Checking root.memoizedInteractions handles multi-renderer edge-case-\n        // where some v16 renderers support profiling and others don't.\n        if (isProfiling && root.memoizedInteractions != null) {\n          // If profiling is active, store commit time and duration, and the current interactions.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            interactions: Array.from(root.memoizedInteractions).map(\n              (interaction: Interaction) => ({\n                ...interaction,\n                timestamp: interaction.timestamp - profilingStartTime,\n              }),\n            ),\n            maxActualDuration: 0,\n            priorityLevel: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, null, false, false);\n        flushPendingEvents(root);\n        currentRootID = -1;\n      });\n    }\n  }\n\n  function handleCommitFiberUnmount(fiber) {\n    // This is not recursive.\n    // We can't traverse fibers after unmounting so instead\n    // we rely on React telling us about each unmount.\n    recordUnmount(fiber, false);\n  }\n\n  function handleCommitFiberRoot(root, priorityLevel) {\n    const current = root.current;\n    const alternate = current.alternate;\n\n    currentRootID = getFiberID(getPrimaryFiber(current));\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Checking root.memoizedInteractions handles multi-renderer edge-case-\n    // where some v16 renderers support profiling and others don't.\n    const isProfilingSupported = root.memoizedInteractions != null;\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration, and the current interactions.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        interactions: Array.from(root.memoizedInteractions).map(\n          (interaction: Interaction) => ({\n            ...interaction,\n            timestamp: interaction.timestamp - profilingStartTime,\n          }),\n        ),\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n      };\n    }\n\n    if (alternate) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted =\n        alternate.memoizedState != null &&\n        alternate.memoizedState.element != null;\n      const isMounted =\n        current.memoizedState != null && current.memoizedState.element != null;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        setRootPseudoKey(currentRootID, current);\n        mountFiberRecursively(current, null, false, false);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiberRecursively(current, alternate, null, false);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        removeRootPseudoKey(currentRootID);\n        recordUnmount(current, false);\n      }\n    } else {\n      // Mount a new root.\n      setRootPseudoKey(currentRootID, current);\n      mountFiberRecursively(current, null, false, false);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      const commitProfilingMetadata = ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n        currentRootID,\n      );\n      if (commitProfilingMetadata != null) {\n        commitProfilingMetadata.push(\n          ((currentCommitProfilingMetadata: any): CommitProfilingData),\n        );\n      } else {\n        ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n          currentRootID,\n          [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n        );\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents(root);\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRootID = -1;\n  }\n\n  function findAllCurrentHostFibers(id: number): $ReadOnlyArray<Fiber> {\n    const fibers = [];\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (!fiber) {\n      return fibers;\n    }\n\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (node.tag === HostComponent || node.tag === HostText) {\n        fibers.push(node);\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return fibers;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return fibers;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n    // Flow needs the return here, but ESLint complains about it.\n    // eslint-disable-next-line no-unreachable\n    return fibers;\n  }\n\n  function findNativeNodesForFiberID(id: number) {\n    try {\n      let fiber = findCurrentFiberUsingSlowPathById(id);\n      if (fiber === null) {\n        return null;\n      }\n      // Special case for a timed-out Suspense.\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // A timed-out Suspense's findDOMNode is useless.\n        // Try our best to find the fallback directly.\n        const maybeFallbackFiber = fiber.child && fiber.child.sibling;\n        if (maybeFallbackFiber != null) {\n          fiber = maybeFallbackFiber;\n        }\n      }\n      const hostFibers = findAllCurrentHostFibers(id);\n      return hostFibers.map(hostFiber => hostFiber.stateNode).filter(Boolean);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForFiberID(id) {\n    const fiber = idToFiberMap.get(id);\n    return fiber != null ? getDisplayNameForFiber(((fiber: any): Fiber)) : null;\n  }\n\n  function getFiberIDForNative(\n    hostInstance,\n    findNearestUnfilteredAncestor = false,\n  ) {\n    let fiber = renderer.findFiberByHostInstance(hostInstance);\n    if (fiber != null) {\n      if (findNearestUnfilteredAncestor) {\n        while (fiber !== null && shouldFilterFiber(fiber)) {\n          fiber = fiber.return;\n        }\n      }\n      return getFiberID(getPrimaryFiber(((fiber: any): Fiber)));\n    }\n    return null;\n  }\n\n  const MOUNTING = 1;\n  const MOUNTED = 2;\n  const UNMOUNTED = 3;\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function isFiberMountedImpl(fiber: Fiber): number {\n    let node = fiber;\n    if (!fiber.alternate) {\n      // If there is no alternate, this might be a new tree that isn't inserted\n      // yet. If it is, then it will have a pending insertion effect on it.\n      if ((getFiberFlags(node) & Placement) !== NoFlags) {\n        return MOUNTING;\n      }\n      while (node.return) {\n        node = node.return;\n        if ((getFiberFlags(node) & Placement) !== NoFlags) {\n          return MOUNTING;\n        }\n      }\n    } else {\n      while (node.return) {\n        node = node.return;\n      }\n    }\n    if (node.tag === HostRoot) {\n      // TODO: Check if this was a nested HostRoot when used with\n      // renderContainerIntoSubtree.\n      return MOUNTED;\n    }\n    // If we didn't hit the root, that means that we're in an disconnected tree\n    // that has been unmounted.\n    return UNMOUNTED;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  // It would be nice if we updated React to inject this function directly (vs just indirectly via findDOMNode).\n  // BEGIN copied code\n  function findCurrentFiberUsingSlowPathById(id: number): Fiber | null {\n    const fiber = idToFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return null;\n    }\n\n    const alternate = fiber.alternate;\n    if (!alternate) {\n      // If there is no alternate, then we only need to check if it is mounted.\n      const state = isFiberMountedImpl(fiber);\n      if (state === UNMOUNTED) {\n        throw Error('Unable to find node on an unmounted component.');\n      }\n      if (state === MOUNTING) {\n        return null;\n      }\n      return fiber;\n    }\n    // If we have two possible branches, we'll walk backwards up to the root\n    // to see what path the root points to. On the way we may hit one of the\n    // special cases and we'll deal with them.\n    let a: Fiber = fiber;\n    let b: Fiber = alternate;\n    while (true) {\n      const parentA = a.return;\n      if (parentA === null) {\n        // We're at the root.\n        break;\n      }\n      const parentB = parentA.alternate;\n      if (parentB === null) {\n        // There is no alternate. This is an unusual case. Currently, it only\n        // happens when a Suspense component is hidden. An extra fragment fiber\n        // is inserted in between the Suspense fiber and its children. Skip\n        // over this extra fragment fiber and proceed to the next parent.\n        const nextParent = parentA.return;\n        if (nextParent !== null) {\n          a = b = nextParent;\n          continue;\n        }\n        // If there's no parent, we're at the root.\n        break;\n      }\n\n      // If both copies of the parent fiber point to the same child, we can\n      // assume that the child is current. This happens when we bailout on low\n      // priority: the bailed out fiber's child reuses the current child.\n      if (parentA.child === parentB.child) {\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            // We've determined that A is the current branch.\n            if (isFiberMountedImpl(parentA) !== MOUNTED) {\n              throw Error('Unable to find node on an unmounted component.');\n            }\n            return fiber;\n          }\n          if (child === b) {\n            // We've determined that B is the current branch.\n            if (isFiberMountedImpl(parentA) !== MOUNTED) {\n              throw Error('Unable to find node on an unmounted component.');\n            }\n            return alternate;\n          }\n          child = child.sibling;\n        }\n        // We should never have an alternate for any mounting node. So the only\n        // way this could possibly happen is if this was unmounted, if at all.\n        throw Error('Unable to find node on an unmounted component.');\n      }\n\n      if (a.return !== b.return) {\n        // The return pointer of A and the return pointer of B point to different\n        // fibers. We assume that return pointers never criss-cross, so A must\n        // belong to the child set of A.return, and B must belong to the child\n        // set of B.return.\n        a = parentA;\n        b = parentB;\n      } else {\n        // The return pointers point to the same fiber. We'll have to use the\n        // default, slow path: scan the child sets of each parent alternate to see\n        // which child belongs to which set.\n        //\n        // Search parent A's child set\n        let didFindChild = false;\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            didFindChild = true;\n            a = parentA;\n            b = parentB;\n            break;\n          }\n          if (child === b) {\n            didFindChild = true;\n            b = parentA;\n            a = parentB;\n            break;\n          }\n          child = child.sibling;\n        }\n        if (!didFindChild) {\n          // Search parent B's child set\n          child = parentB.child;\n          while (child) {\n            if (child === a) {\n              didFindChild = true;\n              a = parentB;\n              b = parentA;\n              break;\n            }\n            if (child === b) {\n              didFindChild = true;\n              b = parentB;\n              a = parentA;\n              break;\n            }\n            child = child.sibling;\n          }\n          if (!didFindChild) {\n            throw Error(\n              'Child was not found in either parent set. This indicates a bug ' +\n                'in React related to the return pointer. Please file an issue.',\n            );\n          }\n        }\n      }\n\n      if (a.alternate !== b) {\n        throw Error(\n          \"Return fibers should always be each others' alternates. \" +\n            'This error is likely caused by a bug in React. Please file an issue.',\n        );\n      }\n    }\n    // If the root is not a host container, we're in a disconnected tree. I.e.\n    // unmounted.\n    if (a.tag !== HostRoot) {\n      throw Error('Unable to find node on an unmounted component.');\n    }\n    if (a.stateNode.current === a) {\n      // We've determined that A is the current branch.\n      return fiber;\n    }\n    // Otherwise B has to be current branch.\n    return alternate;\n  }\n  // END copied code\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    const isCurrent = isMostRecentlyInspectedElementCurrent(id);\n    if (isCurrent) {\n      window.$attribute = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const fiber = idToFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        global.$type = type;\n        break;\n      case ForwardRef:\n        global.$type = type.render;\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$type =\n          elementType != null && elementType.type != null\n            ? elementType.type\n            : type;\n        break;\n      default:\n        global.$type = null;\n        break;\n    }\n  }\n\n  function getOwnersList(id: number): Array<Owner> | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {_debugOwner} = fiber;\n\n    const owners = [\n      {\n        displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n        id,\n        type: getElementTypeForFiber(fiber),\n      },\n    ];\n\n    if (_debugOwner) {\n      let owner = _debugOwner;\n      while (owner !== null) {\n        owners.unshift({\n          displayName: getDisplayNameForFiber(owner) || 'Anonymous',\n          id: getFiberID(getPrimaryFiber(owner)),\n          type: getElementTypeForFiber(owner),\n        });\n        owner = owner._debugOwner || null;\n      }\n    }\n\n    return owners;\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      _debugOwner,\n      _debugSource,\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      typeSymbol === CONTEXT_NUMBER ||\n      typeSymbol === CONTEXT_SYMBOL_STRING\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    let owners = null;\n    if (_debugOwner) {\n      owners = [];\n      let owner = _debugOwner;\n      while (owner !== null) {\n        owners.push({\n          displayName: getDisplayNameForFiber(owner) || 'Anonymous',\n          id: getFiberID(getPrimaryFiber(owner)),\n          type: getElementTypeForFiber(owner),\n        });\n        owner = owner._debugOwner || null;\n      }\n    }\n\n    const isTimedOutSuspense =\n      tag === SuspenseComponent && memoizedState !== null;\n\n    let hooks = null;\n    if (usesHooks) {\n      const originalConsoleMethods = {};\n\n      // Temporarily disable all console logging before re-running the hook.\n      for (const method in console) {\n        try {\n          originalConsoleMethods[method] = console[method];\n          // $FlowFixMe property error|warn is not writable.\n          console[method] = () => {};\n        } catch (error) {}\n      }\n\n      try {\n        hooks = inspectHooksOfFiber(\n          fiber,\n          (renderer.currentDispatcherRef: any),\n        );\n      } finally {\n        // Restore original console functionality.\n        for (const method in originalConsoleMethods) {\n          try {\n            // $FlowFixMe property error|warn is not writable.\n            console[method] = originalConsoleMethods[method];\n          } catch (error) {}\n        }\n      }\n    }\n\n    let rootType = null;\n    let current = fiber;\n    while (current.return !== null) {\n      current = current.return;\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isTimedOutSuspense ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForSuspenseIDs.has(id)),\n\n      // Can view component source location.\n      canViewSource,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      displayName: getDisplayNameForFiber(fiber),\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: usesHooks ? null : memoizedState,\n\n      // List of owners\n      owners,\n\n      // Location of component in source code.\n      source: _debugSource || null,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id &&\n      !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const fiber = idToFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const isCurrent = isMostRecentlyInspectedElementCurrent(id);\n\n    if (isCurrent) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function copyElementPath(id: number, path: Array<string | number>): void {\n    const isCurrent = isMostRecentlyInspectedElementCurrent(id);\n\n    if (isCurrent) {\n      copyToClipboard(\n        getInObject(\n          ((mostRecentlyInspectedElement: any): InspectedElement),\n          path,\n        ),\n      );\n    }\n  }\n\n  function inspectElement(\n    id: number,\n    path?: Array<string | number>,\n  ): InspectedElementPayload {\n    const isCurrent = isMostRecentlyInspectedElementCurrent(id);\n\n    if (isCurrent) {\n      if (path != null) {\n        mergeInspectedPaths(path);\n\n        let secondaryCategory = null;\n        if (path[0] === 'hooks') {\n          secondaryCategory = 'hooks';\n        }\n\n        // If this element has not been updated since it was last inspected,\n        // we can just return the subset of data in the newly-inspected path.\n        return {\n          id,\n          type: 'hydrated-path',\n          path,\n          value: cleanForBridge(\n            getInObject(\n              ((mostRecentlyInspectedElement: any): InspectedElement),\n              path,\n            ),\n            createIsPathAllowed(null, secondaryCategory),\n            path,\n          ),\n        };\n      } else {\n        // If this element has not been updated since it was last inspected, we don't need to re-run it.\n        // Instead we can just return the ID to indicate that it has not changed.\n        return {\n          id,\n          type: 'no-change',\n        };\n      }\n    } else {\n      hasElementUpdatedSinceLastInspected = false;\n\n      if (\n        mostRecentlyInspectedElement === null ||\n        mostRecentlyInspectedElement.id !== id\n      ) {\n        currentlyInspectedPaths = {};\n      }\n\n      mostRecentlyInspectedElement = inspectElementRaw(id);\n      if (mostRecentlyInspectedElement === null) {\n        return {\n          id,\n          type: 'not-found',\n        };\n      }\n\n      if (path != null) {\n        mergeInspectedPaths(path);\n      }\n\n      // Any time an inspected element has an update,\n      // we should update the selected $r value as wel.\n      // Do this before dehydration (cleanForBridge).\n      updateSelectedElement(mostRecentlyInspectedElement);\n\n      // Clone before cleaning so that we preserve the full data.\n      // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n      // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n      const cleanedInspectedElement = {...mostRecentlyInspectedElement};\n      cleanedInspectedElement.context = cleanForBridge(\n        cleanedInspectedElement.context,\n        createIsPathAllowed('context', null),\n      );\n      cleanedInspectedElement.hooks = cleanForBridge(\n        cleanedInspectedElement.hooks,\n        createIsPathAllowed('hooks', 'hooks'),\n      );\n      cleanedInspectedElement.props = cleanForBridge(\n        cleanedInspectedElement.props,\n        createIsPathAllowed('props', null),\n      );\n      cleanedInspectedElement.state = cleanForBridge(\n        cleanedInspectedElement.state,\n        createIsPathAllowed('state', null),\n      );\n\n      return {\n        id,\n        type: 'full-data',\n        value: cleanedInspectedElement,\n      };\n    }\n  }\n\n  function logElementToConsole(id) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const nativeNodes = findNativeNodesForFiberID(id);\n    if (nativeNodes !== null) {\n      console.log('Nodes:', nativeNodes);\n    }\n    if (result.source !== null) {\n      console.log('Location:', result.source);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {|\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    interactions: Array<Interaction>,\n    maxActualDuration: number,\n    priorityLevel: string | null,\n  |};\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let idToContextsMap: Map<number, any> | null = null;\n  let initialTreeBaseDurationsMap: Map<number, number> | null = null;\n  let initialIDToRootMap: Map<number, number> | null = null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null = null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n        const initialTreeBaseDurations: Array<[number, number]> = [];\n        const allInteractions: Map<number, Interaction> = new Map();\n        const interactionCommits: Map<number, Array<number>> = new Map();\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        if (initialTreeBaseDurationsMap != null) {\n          initialTreeBaseDurationsMap.forEach((treeBaseDuration, id) => {\n            if (\n              initialIDToRootMap != null &&\n              initialIDToRootMap.get(id) === rootID\n            ) {\n              // We don't need to convert milliseconds to microseconds in this case,\n              // because the profiling summary is JSON serialized.\n              initialTreeBaseDurations.push([id, treeBaseDuration]);\n            }\n          });\n        }\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            interactions,\n            maxActualDuration,\n            priorityLevel,\n            commitTime,\n          } = commitProfilingData;\n\n          const interactionIDs: Array<number> = [];\n\n          interactions.forEach(interaction => {\n            if (!allInteractions.has(interaction.id)) {\n              allInteractions.set(interaction.id, interaction);\n            }\n\n            interactionIDs.push(interaction.id);\n\n            const commitIndices = interactionCommits.get(interaction.id);\n            if (commitIndices != null) {\n              commitIndices.push(commitIndex);\n            } else {\n              interactionCommits.set(interaction.id, [commitIndex]);\n            }\n          });\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([fiberID, durations[i + 1]]);\n            fiberSelfDurations.push([fiberID, durations[i + 2]]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration: maxActualDuration,\n            fiberActualDurations,\n            fiberSelfDurations,\n            interactionIDs,\n            priorityLevel,\n            timestamp: commitTime,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          interactionCommits: Array.from(interactionCommits.entries()),\n          interactions: Array.from(allInteractions.entries()),\n          rootID,\n        });\n      },\n    );\n\n    return {\n      dataForRoots,\n      rendererID,\n    };\n  }\n\n  function startProfiling(shouldRecordChangeDescriptions: boolean) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map(idToTreeBaseDurationMap);\n    initialIDToRootMap = new Map(idToRootMap);\n    idToContextsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootID = getFiberID(getPrimaryFiber(root.current));\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n\n      if (shouldRecordChangeDescriptions) {\n        // Record all contexts at the time profiling is started.\n        // Fibers only store the current context value,\n        // so we need to track them separately in order to determine changed keys.\n        crawlToInitializeContextsMap(root.current);\n      }\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  ) {\n    startProfiling(\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n        'true',\n    );\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended Fibers or not.\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForSuspenseIDs = new Set();\n  function shouldSuspendFiberAccordingToSet(fiber) {\n    const id = getFiberID(getPrimaryFiber(((fiber: any): Fiber)));\n    return forceFallbackForSuspenseIDs.has(id);\n  }\n\n  function overrideSuspense(id, forceFallback) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    if (forceFallback) {\n      forceFallbackForSuspenseIDs.add(id);\n      if (forceFallbackForSuspenseIDs.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForSuspenseIDs.delete(id);\n      if (forceFallbackForSuspenseIDs.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    const fiber = idToFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null;\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(fiber: Fiber): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.substring(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const id = getFiberID(getPrimaryFiber(fiber));\n        const pseudoKey = rootPseudoKeys.get(id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    let fiber = idToFiberMap.get(id);\n    if (fiber == null) {\n      return null;\n    }\n    const keyPath = [];\n    while (fiber !== null) {\n      keyPath.push(getPathFrame(fiber));\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchFiber === null) {\n      // We didn't find anything.\n      return null;\n    }\n    // Find the closest Fiber store is aware of.\n    let fiber = trackedPathMatchFiber;\n    while (fiber !== null && shouldFilterFiber(fiber)) {\n      fiber = fiber.return;\n    }\n    if (fiber === null) {\n      return null;\n    }\n    return {\n      id: getFiberID(getPrimaryFiber(fiber)),\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  return {\n    cleanup,\n    copyElementPath,\n    deletePath,\n    findNativeNodesForFiberID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberIDForNative,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    inspectElement,\n    logElementToConsole,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    updateComponentFilters,\n  };\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar t = exports.tokens = {}\nvar R = 0\n\nfunction tok (n) {\n  t[n] = R++\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ntok('NUMERICIDENTIFIER')\nsrc[t.NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\ntok('NUMERICIDENTIFIERLOOSE')\nsrc[t.NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ntok('NONNUMERICIDENTIFIER')\nsrc[t.NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ntok('MAINVERSION')\nsrc[t.MAINVERSION] = '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')'\n\ntok('MAINVERSIONLOOSE')\nsrc[t.MAINVERSIONLOOSE] = '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ntok('PRERELEASEIDENTIFIER')\nsrc[t.PRERELEASEIDENTIFIER] = '(?:' + src[t.NUMERICIDENTIFIER] +\n                            '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\ntok('PRERELEASEIDENTIFIERLOOSE')\nsrc[t.PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[t.NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ntok('PRERELEASE')\nsrc[t.PRERELEASE] = '(?:-(' + src[t.PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[t.PRERELEASEIDENTIFIER] + ')*))'\n\ntok('PRERELEASELOOSE')\nsrc[t.PRERELEASELOOSE] = '(?:-?(' + src[t.PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[t.PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ntok('BUILDIDENTIFIER')\nsrc[t.BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ntok('BUILD')\nsrc[t.BUILD] = '(?:\\\\+(' + src[t.BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[t.BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ntok('FULL')\ntok('FULLPLAIN')\nsrc[t.FULLPLAIN] = 'v?' + src[t.MAINVERSION] +\n                  src[t.PRERELEASE] + '?' +\n                  src[t.BUILD] + '?'\n\nsrc[t.FULL] = '^' + src[t.FULLPLAIN] + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ntok('LOOSEPLAIN')\nsrc[t.LOOSEPLAIN] = '[v=\\\\s]*' + src[t.MAINVERSIONLOOSE] +\n                  src[t.PRERELEASELOOSE] + '?' +\n                  src[t.BUILD] + '?'\n\ntok('LOOSE')\nsrc[t.LOOSE] = '^' + src[t.LOOSEPLAIN] + '$'\n\ntok('GTLT')\nsrc[t.GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ntok('XRANGEIDENTIFIERLOOSE')\nsrc[t.XRANGEIDENTIFIERLOOSE] = src[t.NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\ntok('XRANGEIDENTIFIER')\nsrc[t.XRANGEIDENTIFIER] = src[t.NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\ntok('XRANGEPLAIN')\nsrc[t.XRANGEPLAIN] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[t.PRERELEASE] + ')?' +\n                   src[t.BUILD] + '?' +\n                   ')?)?'\n\ntok('XRANGEPLAINLOOSE')\nsrc[t.XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[t.PRERELEASELOOSE] + ')?' +\n                        src[t.BUILD] + '?' +\n                        ')?)?'\n\ntok('XRANGE')\nsrc[t.XRANGE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAIN] + '$'\ntok('XRANGELOOSE')\nsrc[t.XRANGELOOSE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ntok('COERCE')\nsrc[t.COERCE] = '(^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\ntok('COERCERTL')\nre[t.COERCERTL] = new RegExp(src[t.COERCE], 'g')\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ntok('LONETILDE')\nsrc[t.LONETILDE] = '(?:~>?)'\n\ntok('TILDETRIM')\nsrc[t.TILDETRIM] = '(\\\\s*)' + src[t.LONETILDE] + '\\\\s+'\nre[t.TILDETRIM] = new RegExp(src[t.TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\ntok('TILDE')\nsrc[t.TILDE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAIN] + '$'\ntok('TILDELOOSE')\nsrc[t.TILDELOOSE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ntok('LONECARET')\nsrc[t.LONECARET] = '(?:\\\\^)'\n\ntok('CARETTRIM')\nsrc[t.CARETTRIM] = '(\\\\s*)' + src[t.LONECARET] + '\\\\s+'\nre[t.CARETTRIM] = new RegExp(src[t.CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\ntok('CARET')\nsrc[t.CARET] = '^' + src[t.LONECARET] + src[t.XRANGEPLAIN] + '$'\ntok('CARETLOOSE')\nsrc[t.CARETLOOSE] = '^' + src[t.LONECARET] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ntok('COMPARATORLOOSE')\nsrc[t.COMPARATORLOOSE] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.LOOSEPLAIN] + ')$|^$'\ntok('COMPARATOR')\nsrc[t.COMPARATOR] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.FULLPLAIN] + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ntok('COMPARATORTRIM')\nsrc[t.COMPARATORTRIM] = '(\\\\s*)' + src[t.GTLT] +\n                      '\\\\s*(' + src[t.LOOSEPLAIN] + '|' + src[t.XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[t.COMPARATORTRIM] = new RegExp(src[t.COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ntok('HYPHENRANGE')\nsrc[t.HYPHENRANGE] = '^\\\\s*(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\ntok('HYPHENRANGELOOSE')\nsrc[t.HYPHENRANGELOOSE] = '^\\\\s*(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\ntok('STAR')\nsrc[t.STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\nSemVer.prototype.compareBuild = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  var i = 0\n  do {\n    var a = this.build[i]\n    var b = other.build[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.compareBuild = compareBuild\nfunction compareBuild (a, b, loose) {\n  var versionA = new SemVer(a, loose)\n  var versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(b, a, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1] !== undefined ? m[1] : ''\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY || version === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    if (this.value === '') {\n      return true\n    }\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    if (comp.value === '') {\n      return true\n    }\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return (\n      isSatisfiable(thisComparators, options) &&\n      range.set.some(function (rangeComparators) {\n        return (\n          isSatisfiable(rangeComparators, options) &&\n          thisComparators.every(function (thisComparator) {\n            return rangeComparators.every(function (rangeComparator) {\n              return thisComparator.intersects(rangeComparator, options)\n            })\n          })\n        )\n      })\n    )\n  })\n}\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nfunction isSatisfiable (comparators, options) {\n  var result = true\n  var remainingComparators = comparators.slice()\n  var testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every(function (otherComparator) {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p + pr\n    } else if (xm) {\n      ret = '>=' + M + '.0.0' + pr + ' <' + (+M + 1) + '.0.0' + pr\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0' + pr +\n        ' <' + M + '.' + (+m + 1) + '.0' + pr\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version, options) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  var match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    var next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n      (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n          next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(match[2] +\n    '.' + (match[3] || '0') +\n    '.' + (match[4] || '0'), options)\n}\n","\n\nvar simpleIsEqual = function simpleIsEqual(a, b) {\n  return a === b;\n};\n\nexport default function (resultFn) {\n  var isEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : simpleIsEqual;\n\n  var lastThis = void 0;\n  var lastArgs = [];\n  var lastResult = void 0;\n  var calledOnce = false;\n\n  var isNewArgEqualToLast = function isNewArgEqualToLast(newArg, index) {\n    return isEqual(newArg, lastArgs[index]);\n  };\n\n  var result = function result() {\n    for (var _len = arguments.length, newArgs = Array(_len), _key = 0; _key < _len; _key++) {\n      newArgs[_key] = arguments[_key];\n    }\n\n    if (calledOnce && lastThis === this && newArgs.length === lastArgs.length && newArgs.every(isNewArgEqualToLast)) {\n      return lastResult;\n    }\n\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    lastResult = resultFn.apply(this, newArgs);\n    return lastResult;\n  };\n\n  return result;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type Rect = {\n  bottom: number,\n  height: number,\n  left: number,\n  right: number,\n  top: number,\n  width: number,\n  ...\n};\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nexport function getOwnerWindow(node: HTMLElement): typeof window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nexport function getOwnerIframe(node: HTMLElement): HTMLElement | null {\n  const nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nexport function getBoundingClientRectWithBorderOffset(node: HTMLElement) {\n  const dimensions = getElementDimensions(node);\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object typechecks as a ClientRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each ClientRect, but keep the width and height of the first one.\nexport function mergeRectOffsets(rects: Array<Rect>): Rect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nexport function getNestedBoundingClientRect(\n  node: HTMLElement,\n  boundaryWindow: typeof window,\n): Rect {\n  const ownerIframe = getOwnerIframe(node);\n  if (ownerIframe && ownerIframe !== boundaryWindow) {\n    const rects = [node.getBoundingClientRect()];\n    let currentIframe = ownerIframe;\n    let onlyOneMore = false;\n    while (currentIframe) {\n      const rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    return mergeRectOffsets(rects);\n  } else {\n    return node.getBoundingClientRect();\n  }\n}\n\nexport function getElementDimensions(domElement: Element) {\n  const calculatedStyle = window.getComputedStyle(domElement);\n  return {\n    borderLeft: parseInt(calculatedStyle.borderLeftWidth, 10),\n    borderRight: parseInt(calculatedStyle.borderRightWidth, 10),\n    borderTop: parseInt(calculatedStyle.borderTopWidth, 10),\n    borderBottom: parseInt(calculatedStyle.borderBottomWidth, 10),\n    marginLeft: parseInt(calculatedStyle.marginLeft, 10),\n    marginRight: parseInt(calculatedStyle.marginRight, 10),\n    marginTop: parseInt(calculatedStyle.marginTop, 10),\n    marginBottom: parseInt(calculatedStyle.marginBottom, 10),\n    paddingLeft: parseInt(calculatedStyle.paddingLeft, 10),\n    paddingRight: parseInt(calculatedStyle.paddingRight, 10),\n    paddingTop: parseInt(calculatedStyle.paddingTop, 10),\n    paddingBottom: parseInt(calculatedStyle.paddingBottom, 10),\n  };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport assign from 'object-assign';\nimport {getElementDimensions, getNestedBoundingClientRect} from '../utils';\n\nimport type {DevToolsHook} from 'react-devtools-shared/src/backend/types';\nimport type {Rect} from '../utils';\n\ntype Box = {|top: number, left: number, width: number, height: number|};\n\n// Note that the Overlay components are not affected by the active Theme,\n// because they highlight elements in the main Chrome window (outside of devtools).\n// The colors below were chosen to roughly match those used by Chrome devtools.\n\nclass OverlayRect {\n  node: HTMLElement;\n  border: HTMLElement;\n  padding: HTMLElement;\n  content: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.node.style.zIndex = '10000000';\n\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    container.appendChild(this.node);\n  }\n\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n  }\n\n  update(box: Rect, dims: any) {\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height:\n        box.height -\n        dims.borderTop -\n        dims.borderBottom -\n        dims.paddingTop -\n        dims.paddingBottom +\n        'px',\n      width:\n        box.width -\n        dims.borderLeft -\n        dims.borderRight -\n        dims.paddingLeft -\n        dims.paddingRight +\n        'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n  }\n}\n\nclass OverlayTip {\n  tip: HTMLElement;\n  nameSpan: HTMLElement;\n  dimSpan: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily:\n        '\"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      pointerEvents: 'none',\n      position: 'fixed',\n      fontSize: '12px',\n      whiteSpace: 'nowrap',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color: '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.tip.style.zIndex = '10000000';\n    container.appendChild(this.tip);\n  }\n\n  remove() {\n    if (this.tip.parentNode) {\n      this.tip.parentNode.removeChild(this.tip);\n    }\n  }\n\n  updateText(name: string, width: number, height: number) {\n    this.nameSpan.textContent = name;\n    this.dimSpan.textContent =\n      Math.round(width) + 'px  ' + Math.round(height) + 'px';\n  }\n\n  updatePosition(dims: Box, bounds: Box) {\n    const tipRect = this.tip.getBoundingClientRect();\n    const tipPos = findTipPos(dims, bounds, {\n      width: tipRect.width,\n      height: tipRect.height,\n    });\n    assign(this.tip.style, tipPos.style);\n  }\n}\n\nexport default class Overlay {\n  window: window;\n  tipBoundsWindow: window;\n  container: HTMLElement;\n  tip: OverlayTip;\n  rects: Array<OverlayRect>;\n\n  constructor() {\n    // Find the root window, because overlays are positioned relative to it.\n    const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.window = currentWindow;\n\n    // When opened in shells/dev, the tooltip should be bound by the app iframe, not by the topmost window.\n    const tipBoundsWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.tipBoundsWindow = tipBoundsWindow;\n\n    const doc = currentWindow.document;\n    this.container = doc.createElement('div');\n    this.container.style.zIndex = '10000000';\n\n    this.tip = new OverlayTip(doc, this.container);\n    this.rects = [];\n\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    this.tip.remove();\n    this.rects.forEach(rect => {\n      rect.remove();\n    });\n    this.rects.length = 0;\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(nodes: Array<HTMLElement>, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    const elements = nodes.filter(node => node.nodeType === Node.ELEMENT_NODE);\n\n    while (this.rects.length > elements.length) {\n      const rect = this.rects.pop();\n      rect.remove();\n    }\n    if (elements.length === 0) {\n      return;\n    }\n\n    while (this.rects.length < elements.length) {\n      this.rects.push(new OverlayRect(this.window.document, this.container));\n    }\n\n    const outerBox = {\n      top: Number.POSITIVE_INFINITY,\n      right: Number.NEGATIVE_INFINITY,\n      bottom: Number.NEGATIVE_INFINITY,\n      left: Number.POSITIVE_INFINITY,\n    };\n    elements.forEach((element, index) => {\n      const box = getNestedBoundingClientRect(element, this.window);\n      const dims = getElementDimensions(element);\n\n      outerBox.top = Math.min(outerBox.top, box.top - dims.marginTop);\n      outerBox.right = Math.max(\n        outerBox.right,\n        box.left + box.width + dims.marginRight,\n      );\n      outerBox.bottom = Math.max(\n        outerBox.bottom,\n        box.top + box.height + dims.marginBottom,\n      );\n      outerBox.left = Math.min(outerBox.left, box.left - dims.marginLeft);\n\n      const rect = this.rects[index];\n      rect.update(box, dims);\n    });\n\n    if (!name) {\n      name = elements[0].nodeName.toLowerCase();\n\n      const node = elements[0];\n      const hook: DevToolsHook =\n        node.ownerDocument.defaultView.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n      if (hook != null && hook.rendererInterfaces != null) {\n        let ownerName = null;\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const rendererInterface of hook.rendererInterfaces.values()) {\n          const id = rendererInterface.getFiberIDForNative(node, true);\n          if (id !== null) {\n            ownerName = rendererInterface.getDisplayNameForFiberID(id, true);\n            break;\n          }\n        }\n\n        if (ownerName) {\n          name += ' (in ' + ownerName + ')';\n        }\n      }\n    }\n\n    this.tip.updateText(\n      name,\n      outerBox.right - outerBox.left,\n      outerBox.bottom - outerBox.top,\n    );\n    const tipBounds = getNestedBoundingClientRect(\n      this.tipBoundsWindow.document.documentElement,\n      this.window,\n    );\n\n    this.tip.updatePosition(\n      {\n        top: outerBox.top,\n        left: outerBox.left,\n        height: outerBox.bottom - outerBox.top,\n        width: outerBox.right - outerBox.left,\n      },\n      {\n        top: tipBounds.top + this.tipBoundsWindow.scrollY,\n        left: tipBounds.left + this.tipBoundsWindow.scrollX,\n        height: this.tipBoundsWindow.innerHeight,\n        width: this.tipBoundsWindow.innerWidth,\n      },\n    );\n  }\n}\n\nfunction findTipPos(dims, bounds, tipSize) {\n  const tipHeight = Math.max(tipSize.height, 20);\n  const tipWidth = Math.max(tipSize.width, 60);\n  const margin = 5;\n\n  let top;\n  if (dims.top + dims.height + tipHeight <= bounds.top + bounds.height) {\n    if (dims.top + dims.height < bounds.top + 0) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= bounds.top + bounds.height) {\n    if (dims.top - tipHeight - margin < bounds.top + margin) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = bounds.top + bounds.height - tipHeight - margin;\n  }\n\n  let left = dims.left + margin;\n  if (dims.left < bounds.left) {\n    left = bounds.left + margin;\n  }\n  if (dims.left + tipWidth > bounds.left + bounds.width) {\n    left = bounds.left + bounds.width - tipWidth - margin;\n  }\n\n  top += 'px';\n  left += 'px';\n  return {\n    style: {top, left},\n  };\n}\n\nfunction boxWrap(dims, what, node) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nconst overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Overlay from './Overlay';\n\nconst SHOW_DURATION = 2000;\n\nlet timeoutID: TimeoutID | null = null;\nlet overlay: Overlay | null = null;\n\nexport function hideOverlay() {\n  timeoutID = null;\n\n  if (overlay !== null) {\n    overlay.remove();\n    overlay = null;\n  }\n}\n\nexport function showOverlay(\n  elements: Array<HTMLElement> | null,\n  componentName: string | null,\n  hideAfterTimeout: boolean,\n) {\n  // TODO (npm-packages) Detect RN and support it somehow\n  if (window.document == null) {\n    return;\n  }\n\n  if (timeoutID !== null) {\n    clearTimeout(timeoutID);\n  }\n\n  if (elements == null) {\n    return;\n  }\n\n  if (overlay === null) {\n    overlay = new Overlay();\n  }\n\n  overlay.inspect(elements, componentName);\n\n  if (hideAfterTimeout) {\n    timeoutID = setTimeout(hideOverlay, SHOW_DURATION);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport memoize from 'memoize-one';\nimport throttle from 'lodash.throttle';\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {hideOverlay, showOverlay} from './Highlighter';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\n\n// This plug-in provides in-page highlighting of the selected element.\n// It is used by the browser extension nad the standalone DevTools shell (when connected to a browser).\n// It is not currently the mechanism used to highlight React Native views.\n// That is done by the React Native Inspector component.\n\nlet iframesListeningTo: Set<HTMLIFrameElement> = new Set();\n\nexport default function setupHighlighter(\n  bridge: BackendBridge,\n  agent: Agent,\n): void {\n  bridge.addListener(\n    'clearNativeElementHighlight',\n    clearNativeElementHighlight,\n  );\n  bridge.addListener('highlightNativeElement', highlightNativeElement);\n  bridge.addListener('shutdown', stopInspectingNative);\n  bridge.addListener('startInspectingNative', startInspectingNative);\n  bridge.addListener('stopInspectingNative', stopInspectingNative);\n\n  function startInspectingNative() {\n    registerListenersOnWindow(window);\n  }\n\n  function registerListenersOnWindow(window) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.addEventListener === 'function') {\n      window.addEventListener('click', onClick, true);\n      window.addEventListener('mousedown', onMouseEvent, true);\n      window.addEventListener('mouseover', onMouseEvent, true);\n      window.addEventListener('mouseup', onMouseEvent, true);\n      window.addEventListener('pointerdown', onPointerDown, true);\n      window.addEventListener('pointerover', onPointerOver, true);\n      window.addEventListener('pointerup', onPointerUp, true);\n    }\n  }\n\n  function stopInspectingNative() {\n    hideOverlay();\n    removeListenersOnWindow(window);\n    iframesListeningTo.forEach(function(frame) {\n      try {\n        removeListenersOnWindow(frame.contentWindow);\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    });\n    iframesListeningTo = new Set();\n  }\n\n  function removeListenersOnWindow(window) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.removeEventListener === 'function') {\n      window.removeEventListener('click', onClick, true);\n      window.removeEventListener('mousedown', onMouseEvent, true);\n      window.removeEventListener('mouseover', onMouseEvent, true);\n      window.removeEventListener('mouseup', onMouseEvent, true);\n      window.removeEventListener('pointerdown', onPointerDown, true);\n      window.removeEventListener('pointerover', onPointerOver, true);\n      window.removeEventListener('pointerup', onPointerUp, true);\n    }\n  }\n\n  function clearNativeElementHighlight() {\n    hideOverlay();\n  }\n\n  function highlightNativeElement({\n    displayName,\n    hideAfterTimeout,\n    id,\n    openNativeElementsPanel,\n    rendererID,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    id: number,\n    openNativeElementsPanel: boolean,\n    rendererID: number,\n    scrollIntoView: boolean,\n    ...\n  }) {\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    }\n\n    let nodes: ?Array<HTMLElement> = null;\n    if (renderer != null) {\n      nodes = ((renderer.findNativeNodesForFiberID(\n        id,\n      ): any): ?Array<HTMLElement>);\n    }\n\n    if (nodes != null && nodes[0] != null) {\n      const node = nodes[0];\n      if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n        // If the node isn't visible show it before highlighting it.\n        // We may want to reconsider this; it might be a little disruptive.\n        // $FlowFixMe Flow only knows about 'start' | 'end'\n        node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n\n      showOverlay(nodes, displayName, hideAfterTimeout);\n\n      if (openNativeElementsPanel) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0 = node;\n        bridge.send('syncSelectionToNativeElementsPanel');\n      }\n    } else {\n      hideOverlay();\n    }\n  }\n\n  function onClick(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    stopInspectingNative();\n\n    bridge.send('stopInspectingNative', true);\n  }\n\n  function onMouseEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function onPointerDown(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    selectFiberForNode(((event.target: any): HTMLElement));\n  }\n\n  function onPointerOver(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const target = ((event.target: any): HTMLElement);\n\n    if (target.tagName === 'IFRAME') {\n      const iframe: HTMLIFrameElement = (target: any);\n      try {\n        if (!iframesListeningTo.has(iframe)) {\n          const window = iframe.contentWindow;\n          registerListenersOnWindow(window);\n          iframesListeningTo.add(iframe);\n        }\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    }\n\n    // Don't pass the name explicitly.\n    // It will be inferred from DOM tag and Fiber owner.\n    showOverlay([target], null, false);\n\n    selectFiberForNode(target);\n  }\n\n  function onPointerUp(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const selectFiberForNode = throttle(\n    memoize((node: HTMLElement) => {\n      const id = agent.getIDForNode(node);\n      if (id !== null) {\n        bridge.send('selectFiber', id);\n      }\n    }),\n    200,\n    // Don't change the selection in the very first 200ms\n    // because those are usually unintentional as you lift the cursor.\n    {leading: false},\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Data} from './index';\nimport type {Rect} from '../utils';\nimport type {NativeType} from '../../types';\n\nconst OUTLINE_COLOR = '#f0f0f0';\n\n// Note these colors are in sync with DevTools Profiler chart colors.\nconst COLORS = [\n  '#37afa9',\n  '#63b19e',\n  '#80b393',\n  '#97b488',\n  '#abb67d',\n  '#beb771',\n  '#cfb965',\n  '#dfba57',\n  '#efbb49',\n  '#febc38',\n];\n\nlet canvas: HTMLCanvasElement | null = null;\n\nexport function draw(nodeToData: Map<NativeType, Data>): void {\n  if (canvas === null) {\n    initialize();\n  }\n\n  const canvasFlow: HTMLCanvasElement = ((canvas: any): HTMLCanvasElement);\n  canvasFlow.width = window.innerWidth;\n  canvasFlow.height = window.innerHeight;\n\n  const context = canvasFlow.getContext('2d');\n  context.clearRect(0, 0, canvasFlow.width, canvasFlow.height);\n\n  nodeToData.forEach(({count, rect}) => {\n    if (rect !== null) {\n      const colorIndex = Math.min(COLORS.length - 1, count - 1);\n      const color = COLORS[colorIndex];\n\n      drawBorder(context, rect, color);\n    }\n  });\n}\n\nfunction drawBorder(\n  context: CanvasRenderingContext2D,\n  rect: Rect,\n  color: string,\n): void {\n  const {height, left, top, width} = rect;\n\n  // outline\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n\n  context.strokeRect(left - 1, top - 1, width + 2, height + 2);\n\n  // inset\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n  context.strokeRect(left + 1, top + 1, width - 1, height - 1);\n  context.strokeStyle = color;\n\n  context.setLineDash([0]);\n\n  // border\n  context.lineWidth = 1;\n  context.strokeRect(left, top, width - 1, height - 1);\n\n  context.setLineDash([0]);\n}\n\nexport function destroy(): void {\n  if (canvas !== null) {\n    if (canvas.parentNode != null) {\n      canvas.parentNode.removeChild(canvas);\n    }\n    canvas = null;\n  }\n}\n\nfunction initialize(): void {\n  canvas = window.document.createElement('canvas');\n  canvas.style.cssText = `\n    xx-background-color: red;\n    xx-opacity: 0.5;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    z-index: 1000000000;\n  `;\n\n  const root = window.document.documentElement;\n  root.insertBefore(canvas, root.firstChild);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {destroy as destroyCanvas, draw} from './canvas';\nimport {getNestedBoundingClientRect} from '../utils';\n\nimport type {NativeType} from '../../types';\nimport type {Rect} from '../utils';\n\n// How long the rect should be shown for?\nconst DISPLAY_DURATION = 250;\n\n// What's the longest we are willing to show the overlay for?\n// This can be important if we're getting a flurry of events (e.g. scroll update).\nconst MAX_DISPLAY_DURATION = 3000;\n\n// How long should a rect be considered valid for?\nconst REMEASUREMENT_AFTER_DURATION = 250;\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport type Data = {|\n  count: number,\n  expirationTime: number,\n  lastMeasuredAt: number,\n  rect: Rect | null,\n|};\n\nconst nodeToData: Map<NativeType, Data> = new Map();\n\nlet agent: Agent = ((null: any): Agent);\nlet drawAnimationFrameID: AnimationFrameID | null = null;\nlet isEnabled: boolean = false;\nlet redrawTimeoutID: TimeoutID | null = null;\n\nexport function initialize(injectedAgent: Agent): void {\n  agent = injectedAgent;\n  agent.addListener('traceUpdates', traceUpdates);\n}\n\nexport function toggleEnabled(value: boolean): void {\n  isEnabled = value;\n\n  if (!isEnabled) {\n    nodeToData.clear();\n\n    if (drawAnimationFrameID !== null) {\n      cancelAnimationFrame(drawAnimationFrameID);\n      drawAnimationFrameID = null;\n    }\n\n    if (redrawTimeoutID !== null) {\n      clearTimeout(redrawTimeoutID);\n      redrawTimeoutID = null;\n    }\n\n    destroyCanvas();\n  }\n}\n\nfunction traceUpdates(nodes: Set<NativeType>): void {\n  if (!isEnabled) {\n    return;\n  }\n\n  nodes.forEach(node => {\n    const data = nodeToData.get(node);\n    const now = getCurrentTime();\n\n    let lastMeasuredAt = data != null ? data.lastMeasuredAt : 0;\n    let rect = data != null ? data.rect : null;\n    if (rect === null || lastMeasuredAt + REMEASUREMENT_AFTER_DURATION < now) {\n      lastMeasuredAt = now;\n      rect = measureNode(node);\n    }\n\n    nodeToData.set(node, {\n      count: data != null ? data.count + 1 : 1,\n      expirationTime:\n        data != null\n          ? Math.min(\n              now + MAX_DISPLAY_DURATION,\n              data.expirationTime + DISPLAY_DURATION,\n            )\n          : now + DISPLAY_DURATION,\n      lastMeasuredAt,\n      rect,\n    });\n  });\n\n  if (redrawTimeoutID !== null) {\n    clearTimeout(redrawTimeoutID);\n    redrawTimeoutID = null;\n  }\n\n  if (drawAnimationFrameID === null) {\n    drawAnimationFrameID = requestAnimationFrame(prepareToDraw);\n  }\n}\n\nfunction prepareToDraw(): void {\n  drawAnimationFrameID = null;\n  redrawTimeoutID = null;\n\n  const now = getCurrentTime();\n  let earliestExpiration = Number.MAX_VALUE;\n\n  // Remove any items that have already expired.\n  nodeToData.forEach((data, node) => {\n    if (data.expirationTime < now) {\n      nodeToData.delete(node);\n    } else {\n      earliestExpiration = Math.min(earliestExpiration, data.expirationTime);\n    }\n  });\n\n  draw(nodeToData);\n\n  if (earliestExpiration !== Number.MAX_VALUE) {\n    redrawTimeoutID = setTimeout(prepareToDraw, earliestExpiration - now);\n  }\n}\n\nfunction measureNode(node: Object): Rect | null {\n  if (!node || typeof node.getBoundingClientRect !== 'function') {\n    return null;\n  }\n\n  const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n\n  return getNestedBoundingClientRect(node, currentWindow);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from '../events';\nimport throttle from 'lodash.throttle';\nimport {\n  SESSION_STORAGE_LAST_SELECTION_KEY,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  __DEBUG__,\n} from '../constants';\nimport {\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from 'react-devtools-shared/src/storage';\nimport setupHighlighter from './views/Highlighter';\nimport {\n  initialize as setupTraceUpdates,\n  toggleEnabled as setTraceUpdatesEnabled,\n} from './views/TraceUpdates';\nimport {patch as patchConsole, unpatch as unpatchConsole} from './console';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  InstanceAndStyle,\n  NativeType,\n  OwnersList,\n  PathFrame,\n  PathMatch,\n  RendererID,\n  RendererInterface,\n} from './types';\nimport type {ComponentFilter} from '../types';\n\nconst debug = (methodName, ...args) => {\n  if (__DEBUG__) {\n    console.log(\n      `%cAgent %c${methodName}`,\n      'color: purple; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n};\n\ntype ElementAndRendererID = {|\n  id: number,\n  rendererID: number,\n|};\n\ntype StoreAsGlobalParams = {|\n  count: number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n|};\n\ntype CopyElementParams = {|\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n|};\n\ntype InspectElementParams = {|\n  id: number,\n  path?: Array<string | number>,\n  rendererID: number,\n|};\n\ntype OverrideHookParams = {|\n  id: number,\n  hookID: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n|};\n\ntype SetInParams = {|\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n|};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePathParams = {|\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n|};\n\ntype RenamePathParams = {|\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  rendererID: number,\n|};\n\ntype OverrideValueAtPathParams = {|\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  value: any,\n|};\n\ntype OverrideSuspenseParams = {|\n  id: number,\n  rendererID: number,\n  forceFallback: boolean,\n|};\n\ntype PersistedSelection = {|\n  rendererID: number,\n  path: Array<PathFrame>,\n|};\n\nexport default class Agent extends EventEmitter<{|\n  hideNativeHighlight: [],\n  showNativeHighlight: [NativeType],\n  shutdown: [],\n  traceUpdates: [Set<NativeType>],\n|}> {\n  _bridge: BackendBridge;\n  _isProfiling: boolean = false;\n  _recordChangeDescriptions: boolean = false;\n  _rendererInterfaces: {[key: RendererID]: RendererInterface, ...} = {};\n  _persistedSelection: PersistedSelection | null = null;\n  _persistedSelectionMatch: PathMatch | null = null;\n  _traceUpdatesEnabled: boolean = false;\n\n  constructor(bridge: BackendBridge) {\n    super();\n\n    if (\n      sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n    ) {\n      this._recordChangeDescriptions =\n        sessionStorageGetItem(\n          SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        ) === 'true';\n      this._isProfiling = true;\n\n      sessionStorageRemoveItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY);\n      sessionStorageRemoveItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY);\n    }\n\n    const persistedSelectionString = sessionStorageGetItem(\n      SESSION_STORAGE_LAST_SELECTION_KEY,\n    );\n    if (persistedSelectionString != null) {\n      this._persistedSelection = JSON.parse(persistedSelectionString);\n    }\n\n    this._bridge = bridge;\n\n    bridge.addListener('copyElementPath', this.copyElementPath);\n    bridge.addListener('deletePath', this.deletePath);\n    bridge.addListener('getProfilingData', this.getProfilingData);\n    bridge.addListener('getProfilingStatus', this.getProfilingStatus);\n    bridge.addListener('getOwnersList', this.getOwnersList);\n    bridge.addListener('inspectElement', this.inspectElement);\n    bridge.addListener('logElementToConsole', this.logElementToConsole);\n    bridge.addListener('overrideSuspense', this.overrideSuspense);\n    bridge.addListener('overrideValueAtPath', this.overrideValueAtPath);\n    bridge.addListener('reloadAndProfile', this.reloadAndProfile);\n    bridge.addListener('renamePath', this.renamePath);\n    bridge.addListener('setTraceUpdatesEnabled', this.setTraceUpdatesEnabled);\n    bridge.addListener('startProfiling', this.startProfiling);\n    bridge.addListener('stopProfiling', this.stopProfiling);\n    bridge.addListener('storeAsGlobal', this.storeAsGlobal);\n    bridge.addListener(\n      'syncSelectionFromNativeElementsPanel',\n      this.syncSelectionFromNativeElementsPanel,\n    );\n    bridge.addListener('shutdown', this.shutdown);\n    bridge.addListener(\n      'updateConsolePatchSettings',\n      this.updateConsolePatchSettings,\n    );\n    bridge.addListener('updateComponentFilters', this.updateComponentFilters);\n    bridge.addListener('viewAttributeSource', this.viewAttributeSource);\n    bridge.addListener('viewElementSource', this.viewElementSource);\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    bridge.addListener('overrideContext', this.overrideContext);\n    bridge.addListener('overrideHookState', this.overrideHookState);\n    bridge.addListener('overrideProps', this.overrideProps);\n    bridge.addListener('overrideState', this.overrideState);\n\n    if (this._isProfiling) {\n      bridge.send('profilingStatus', true);\n    }\n\n    // Notify the frontend if the backend supports the Storage API (e.g. localStorage).\n    // If not, features like reload-and-profile will not work correctly and must be disabled.\n    let isBackendStorageAPISupported = false;\n    try {\n      localStorage.getItem('test');\n      isBackendStorageAPISupported = true;\n    } catch (error) {}\n    bridge.send('isBackendStorageAPISupported', isBackendStorageAPISupported);\n\n    setupHighlighter(bridge, this);\n    setupTraceUpdates(this);\n  }\n\n  get rendererInterfaces(): {[key: RendererID]: RendererInterface, ...} {\n    return this._rendererInterfaces;\n  }\n\n  copyElementPath = ({id, path, rendererID}: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.copyElementPath(id, path);\n    }\n  };\n\n  deletePath = ({hookID, id, path, rendererID, type}: DeletePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.deletePath(type, id, hookID, path);\n    }\n  };\n\n  getInstanceAndStyle({\n    id,\n    rendererID,\n  }: ElementAndRendererID): InstanceAndStyle | null {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n      return null;\n    }\n    return renderer.getInstanceAndStyle(id);\n  }\n\n  getIDForNode(node: Object): number | null {\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n\n      try {\n        const id = renderer.getFiberIDForNative(node, true);\n        if (id !== null) {\n          return id;\n        }\n      } catch (error) {\n        // Some old React versions might throw if they can't find a match.\n        // If so we should ignore it...\n      }\n    }\n    return null;\n  }\n\n  getProfilingData = ({rendererID}: {|rendererID: RendererID|}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    }\n\n    this._bridge.send('profilingData', renderer.getProfilingData());\n  };\n\n  getProfilingStatus = () => {\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  getOwnersList = ({id, rendererID}: ElementAndRendererID) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const owners = renderer.getOwnersList(id);\n      this._bridge.send('ownersList', ({id, owners}: OwnersList));\n    }\n  };\n\n  inspectElement = ({id, path, rendererID}: InspectElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      this._bridge.send('inspectedElement', renderer.inspectElement(id, path));\n\n      // When user selects an element, stop trying to restore the selection,\n      // and instead remember the current selection for the next reload.\n      if (\n        this._persistedSelectionMatch === null ||\n        this._persistedSelectionMatch.id !== id\n      ) {\n        this._persistedSelection = null;\n        this._persistedSelectionMatch = null;\n        renderer.setTrackedPath(null);\n        this._throttledPersistSelection(rendererID, id);\n      }\n\n      // TODO: If there was a way to change the selected DOM element\n      // in native Elements tab without forcing a switch to it, we'd do it here.\n      // For now, it doesn't seem like there is a way to do that:\n      // https://github.com/bvaughn/react-devtools-experimental/issues/102\n      // (Setting $0 doesn't work, and calling inspect() switches the tab.)\n    }\n  };\n\n  logElementToConsole = ({id, rendererID}: ElementAndRendererID) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.logElementToConsole(id);\n    }\n  };\n\n  overrideSuspense = ({\n    id,\n    rendererID,\n    forceFallback,\n  }: OverrideSuspenseParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideSuspense(id, forceFallback);\n    }\n  };\n\n  overrideValueAtPath = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideValueAtPath(type, id, hookID, path, value);\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideContext = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }: SetInParams) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'context',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideHookState = ({\n    id,\n    hookID,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }: OverrideHookParams) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'hooks',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideProps = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }: SetInParams) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'props',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideState = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }: SetInParams) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'state',\n        value,\n      });\n    }\n  };\n\n  reloadAndProfile = (recordChangeDescriptions: boolean) => {\n    sessionStorageSetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY, 'true');\n    sessionStorageSetItem(\n      SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n      recordChangeDescriptions ? 'true' : 'false',\n    );\n\n    // This code path should only be hit if the shell has explicitly told the Store that it supports profiling.\n    // In that case, the shell must also listen for this specific message to know when it needs to reload the app.\n    // The agent can't do this in a way that is renderer agnostic.\n    this._bridge.send('reloadAppForProfiling');\n  };\n\n  renamePath = ({\n    hookID,\n    id,\n    newPath,\n    oldPath,\n    rendererID,\n    type,\n  }: RenamePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.renamePath(type, id, hookID, oldPath, newPath);\n    }\n  };\n\n  selectNode(target: Object): void {\n    const id = this.getIDForNode(target);\n    if (id !== null) {\n      this._bridge.send('selectFiber', id);\n    }\n  }\n\n  setRendererInterface(\n    rendererID: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    this._rendererInterfaces[rendererID] = rendererInterface;\n\n    if (this._isProfiling) {\n      rendererInterface.startProfiling(this._recordChangeDescriptions);\n    }\n\n    rendererInterface.setTraceUpdatesEnabled(this._traceUpdatesEnabled);\n\n    // When the renderer is attached, we need to tell it whether\n    // we remember the previous selection that we'd like to restore.\n    // It'll start tracking mounts for matches to the last selection path.\n    const selection = this._persistedSelection;\n    if (selection !== null && selection.rendererID === rendererID) {\n      rendererInterface.setTrackedPath(selection.path);\n    }\n  }\n\n  setTraceUpdatesEnabled = (traceUpdatesEnabled: boolean) => {\n    this._traceUpdatesEnabled = traceUpdatesEnabled;\n\n    setTraceUpdatesEnabled(traceUpdatesEnabled);\n\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.setTraceUpdatesEnabled(traceUpdatesEnabled);\n    }\n  };\n\n  syncSelectionFromNativeElementsPanel = () => {\n    const target = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n    if (target == null) {\n      return;\n    }\n    this.selectNode(target);\n  };\n\n  shutdown = () => {\n    // Clean up the overlay if visible, and associated events.\n    this.emit('shutdown');\n  };\n\n  startProfiling = (recordChangeDescriptions: boolean) => {\n    this._recordChangeDescriptions = recordChangeDescriptions;\n    this._isProfiling = true;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.startProfiling(recordChangeDescriptions);\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopProfiling = () => {\n    this._isProfiling = false;\n    this._recordChangeDescriptions = false;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.stopProfiling();\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  storeAsGlobal = ({count, id, path, rendererID}: StoreAsGlobalParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.storeAsGlobal(id, path, count);\n    }\n  };\n\n  updateConsolePatchSettings = ({\n    appendComponentStack,\n    breakOnConsoleErrors,\n  }: {|\n    appendComponentStack: boolean,\n    breakOnConsoleErrors: boolean,\n  |}) => {\n    // If the frontend preference has change,\n    // or in the case of React Native- if the backend is just finding out the preference-\n    // then install or uninstall the console overrides.\n    // It's safe to call these methods multiple times, so we don't need to worry about that.\n    if (appendComponentStack || breakOnConsoleErrors) {\n      patchConsole({appendComponentStack, breakOnConsoleErrors});\n    } else {\n      unpatchConsole();\n    }\n  };\n\n  updateComponentFilters = (componentFilters: Array<ComponentFilter>) => {\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.updateComponentFilters(componentFilters);\n    }\n  };\n\n  viewAttributeSource = ({id, path, rendererID}: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewAttributeSource(id, path);\n    }\n  };\n\n  viewElementSource = ({id, rendererID}: ElementAndRendererID) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewElementSource(id);\n    }\n  };\n\n  onTraceUpdates = (nodes: Set<NativeType>) => {\n    this.emit('traceUpdates', nodes);\n  };\n\n  onHookOperations = (operations: Array<number>) => {\n    if (__DEBUG__) {\n      debug('onHookOperations', operations);\n    }\n\n    // TODO:\n    // The chrome.runtime does not currently support transferables; it forces JSON serialization.\n    // See bug https://bugs.chromium.org/p/chromium/issues/detail?id=927134\n    //\n    // Regarding transferables, the postMessage doc states:\n    // If the ownership of an object is transferred, it becomes unusable (neutered)\n    // in the context it was sent from and becomes available only to the worker it was sent to.\n    //\n    // Even though Chrome is eventually JSON serializing the array buffer,\n    // using the transferable approach also sometimes causes it to throw:\n    //   DOMException: Failed to execute 'postMessage' on 'Window': ArrayBuffer at index 0 is already neutered.\n    //\n    // See bug https://github.com/bvaughn/react-devtools-experimental/issues/25\n    //\n    // The Store has a fallback in place that parses the message as JSON if the type isn't an array.\n    // For now the simplest fix seems to be to not transfer the array.\n    // This will negatively impact performance on Firefox so it's unfortunate,\n    // but until we're able to fix the Chrome error mentioned above, it seems necessary.\n    //\n    // this._bridge.send('operations', operations, [operations.buffer]);\n    this._bridge.send('operations', operations);\n\n    if (this._persistedSelection !== null) {\n      const rendererID = operations[0];\n      if (this._persistedSelection.rendererID === rendererID) {\n        // Check if we can select a deeper match for the persisted selection.\n        const renderer = this._rendererInterfaces[rendererID];\n        if (renderer == null) {\n          console.warn(`Invalid renderer id \"${rendererID}\"`);\n        } else {\n          const prevMatch = this._persistedSelectionMatch;\n          const nextMatch = renderer.getBestMatchForTrackedPath();\n          this._persistedSelectionMatch = nextMatch;\n          const prevMatchID = prevMatch !== null ? prevMatch.id : null;\n          const nextMatchID = nextMatch !== null ? nextMatch.id : null;\n          if (prevMatchID !== nextMatchID) {\n            if (nextMatchID !== null) {\n              // We moved forward, unlocking a deeper node.\n              this._bridge.send('selectFiber', nextMatchID);\n            }\n          }\n          if (nextMatch !== null && nextMatch.isFullMatch) {\n            // We've just unlocked the innermost selected node.\n            // There's no point tracking it further.\n            this._persistedSelection = null;\n            this._persistedSelectionMatch = null;\n            renderer.setTrackedPath(null);\n          }\n        }\n      }\n    }\n  };\n\n  onUnsupportedRenderer(rendererID: number) {\n    this._bridge.send('unsupportedRendererVersion', rendererID);\n  }\n\n  _throttledPersistSelection = throttle((rendererID: number, id: number) => {\n    // This is throttled, so both renderer and selected ID\n    // might not be available by the time we read them.\n    // This is why we need the defensive checks here.\n    const renderer = this._rendererInterfaces[rendererID];\n    const path = renderer != null ? renderer.getPathForElement(id) : null;\n    if (path !== null) {\n      sessionStorageSetItem(\n        SESSION_STORAGE_LAST_SELECTION_KEY,\n        JSON.stringify(({rendererID, path}: PersistedSelection)),\n      );\n    } else {\n      sessionStorageRemoveItem(SESSION_STORAGE_LAST_SELECTION_KEY);\n    }\n  }, 1000);\n}\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","//  Import support https://stackoverflow.com/questions/13673346/supporting-both-commonjs-and-amd\n(function(name, definition) {\n    if (typeof module !== \"undefined\") { module.exports = definition(); }\n    else if (typeof define === \"function\" && typeof define.amd === \"object\") { define(definition); }\n    else { this[name] = definition(); }\n}(\"clipboard\", function() {\n  if (typeof document === 'undefined' || !document.addEventListener) {\n    return null;\n  }\n\n  var clipboard = {};\n\n  clipboard.copy = (function() {\n    var _intercept = false;\n    var _data = null; // Map from data type (e.g. \"text/html\") to value.\n    var _bogusSelection = false;\n\n    function cleanup() {\n      _intercept = false;\n      _data = null;\n      if (_bogusSelection) {\n        window.getSelection().removeAllRanges();\n      }\n      _bogusSelection = false;\n    }\n\n    document.addEventListener(\"copy\", function(e) {\n      if (_intercept) {\n        for (var key in _data) {\n          e.clipboardData.setData(key, _data[key]);\n        }\n        e.preventDefault();\n      }\n    });\n\n    // Workaround for Safari: https://bugs.webkit.org/show_bug.cgi?id=156529\n    function bogusSelect() {\n      var sel = document.getSelection();\n      // If \"nothing\" is selected...\n      if (!document.queryCommandEnabled(\"copy\") && sel.isCollapsed) {\n        // ... temporarily select the entire body.\n        //\n        // We select the entire body because:\n        // - it's guaranteed to exist,\n        // - it works (unlike, say, document.head, or phantom element that is\n        //   not inserted into the DOM),\n        // - it doesn't seem to flicker (due to the synchronous copy event), and\n        // - it avoids modifying the DOM (can trigger mutation observers).\n        //\n        // Because we can't do proper feature detection (we already checked\n        // document.queryCommandEnabled(\"copy\") , which actually gives a false\n        // negative for Blink when nothing is selected) and UA sniffing is not\n        // reliable (a lot of UA strings contain \"Safari\"), this will also\n        // happen for some browsers other than Safari. :-()\n        var range = document.createRange();\n        range.selectNodeContents(document.body);\n        sel.removeAllRanges();\n        sel.addRange(range);\n        _bogusSelection = true;\n      }\n    };\n\n    return function(data) {\n      return new Promise(function(resolve, reject) {\n        _intercept = true;\n        if (typeof data === \"string\") {\n          _data = {\"text/plain\": data};\n        } else if (data instanceof Node) {\n          _data = {\"text/html\": new XMLSerializer().serializeToString(data)};\n        } else if (data instanceof Object){\n          _data = data;\n        } else {\n          reject(\"Invalid data type. Must be string, DOM node, or an object mapping MIME types to strings.\")\n        }\n\n        function triggerCopy(tryBogusSelect) {\n          try {\n            if (document.execCommand(\"copy\")) {\n              // document.execCommand is synchronous: http://www.w3.org/TR/2015/WD-clipboard-apis-20150421/#integration-with-rich-text-editing-apis\n              // So we can call resolve() back here.\n              cleanup();\n              resolve();\n            }\n            else {\n              if (!tryBogusSelect) {\n                bogusSelect();\n                triggerCopy(true);\n              } else {\n                cleanup();\n                throw new Error(\"Unable to copy. Perhaps it's not available in your browser?\");\n              }\n            }\n          } catch (e) {\n            cleanup();\n            reject(e);\n          }\n        }\n        triggerCopy(false);\n\n      });\n    };\n  })();\n\n  clipboard.paste = (function() {\n    var _intercept = false;\n    var _resolve;\n    var _dataType;\n\n    document.addEventListener(\"paste\", function(e) {\n      if (_intercept) {\n        _intercept = false;\n        e.preventDefault();\n        var resolve = _resolve;\n        _resolve = null;\n        resolve(e.clipboardData.getData(_dataType));\n      }\n    });\n\n    return function(dataType) {\n      return new Promise(function(resolve, reject) {\n        _intercept = true;\n        _resolve = resolve;\n        _dataType = dataType || \"text/plain\";\n        try {\n          if (!document.execCommand(\"paste\")) {\n            _intercept = false;\n            reject(new Error(\"Unable to paste. Pasting only works in Internet Explorer at the moment.\"));\n          }\n        } catch (e) {\n          _intercept = false;\n          reject(new Error(e));\n        }\n      });\n    };\n  })();\n\n  // Handle IE behaviour.\n  if (typeof ClipboardEvent === \"undefined\" &&\n      typeof window.clipboardData !== \"undefined\" &&\n      typeof window.clipboardData.setData !== \"undefined\") {\n\n    /*! promise-polyfill 2.0.1 */\n    (function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof a)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void j(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var c=a.then;if(\"function\"==typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\"function\"==typeof a?a:null,this.onRejected=\"function\"==typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=c.immediateFn||\"function\"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)};c.prototype[\"catch\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\"object\"==typeof g||\"function\"==typeof g)){var h=g.then;if(\"function\"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\"object\"==typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},\"undefined\"!=typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)})(this);\n\n    clipboard.copy = function(data) {\n      return new Promise(function(resolve, reject) {\n        // IE supports string and URL types: https://msdn.microsoft.com/en-us/library/ms536744(v=vs.85).aspx\n        // We only support the string type for now.\n        if (typeof data !== \"string\" && !(\"text/plain\" in data)) {\n          throw new Error(\"You must provide a text/plain type.\");\n        }\n\n        var strData = (typeof data === \"string\" ? data : data[\"text/plain\"]);\n        var copySucceeded = window.clipboardData.setData(\"Text\", strData);\n        if (copySucceeded) {\n          resolve();\n        } else {\n          reject(new Error(\"Copying was rejected.\"));\n        }\n      });\n    };\n\n    clipboard.paste = function() {\n      return new Promise(function(resolve, reject) {\n        var strData = window.clipboardData.getData(\"Text\");\n        if (strData) {\n          resolve(strData);\n        } else {\n          // The user rejected the paste request.\n          reject(new Error(\"Pasting was rejected.\"));\n        }\n      });\n    };\n  }\n\n  return clipboard;\n}));\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-debug-tools.production.min.js');\n} else {\n  module.exports = require('./cjs/react-debug-tools.development.js');\n}\n","// Do not use imports or top-level requires here!\n// Running module factories is intentionally delayed until we know the hook exists.\n// This is to avoid issues like: https://github.com/facebook/react-devtools/issues/1039\n\n/** @flow */\n\n'use strict';\n\nfunction welcome(event) {\n  if (\n    event.source !== window ||\n    event.data.source !== 'react-devtools-content-script'\n  ) {\n    return;\n  }\n\n  window.removeEventListener('message', welcome);\n\n  setup(window.__REACT_DEVTOOLS_GLOBAL_HOOK__);\n}\n\nwindow.addEventListener('message', welcome);\n\nfunction setup(hook) {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n  const Agent = require('react-devtools-shared/src/backend/agent').default;\n  const Bridge = require('react-devtools-shared/src/bridge').default;\n  const {initBackend} = require('react-devtools-shared/src/backend');\n  const setupNativeStyleEditor = require('react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor')\n    .default;\n\n  const bridge = new Bridge({\n    listen(fn) {\n      const listener = event => {\n        if (\n          event.source !== window ||\n          !event.data ||\n          event.data.source !== 'react-devtools-content-script' ||\n          !event.data.payload\n        ) {\n          return;\n        }\n        fn(event.data.payload);\n      };\n      window.addEventListener('message', listener);\n      return () => {\n        window.removeEventListener('message', listener);\n      };\n    },\n    send(event: string, payload: any, transferable?: Array<any>) {\n      window.postMessage(\n        {\n          source: 'react-devtools-bridge',\n          payload: {event, payload},\n        },\n        '*',\n        transferable,\n      );\n    },\n  });\n\n  const agent = new Agent(bridge);\n  agent.addListener('shutdown', () => {\n    // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n    // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n    hook.emit('shutdown');\n  });\n\n  initBackend(hook, agent, window);\n\n  // Let the frontend know that the backend has attached listeners and is ready for messages.\n  // This covers the case of syncing saved values after reloading/navigating while DevTools remain open.\n  bridge.send('extensionBackendInitialized');\n\n  // Setup React Native style editor if a renderer like react-native-web has injected it.\n  if (hook.resolveRNStyle) {\n    setupNativeStyleEditor(\n      bridge,\n      agent,\n      hook.resolveRNStyle,\n      hook.nativeStyleEditorValidAttributes,\n    );\n  }\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export default \":root {\\n  /**\\n   * IMPORTANT: When new theme variables are added below also add them to SettingsContext updateThemeVariables()\\n   */\\n\\n  /* Light theme */\\n  --light-color-attribute-name: #ef6632;\\n  --light-color-attribute-name-not-editable: #23272f;\\n  --light-color-attribute-name-inverted: rgba(255, 255, 255, 0.7);\\n  --light-color-attribute-value: #1a1aa6;\\n  --light-color-attribute-value-inverted: #ffffff;\\n  --light-color-attribute-editable-value: #1a1aa6;\\n  --light-color-background: #ffffff;\\n  --light-color-background-hover: rgba(0, 136, 250, 0.1);\\n  --light-color-background-inactive: #e5e5e5;\\n  --light-color-background-invalid: #fff0f0;\\n  --light-color-background-selected: #0088fa;\\n  --light-color-button-background: #ffffff;\\n  --light-color-button-background-focus: #ededed;\\n  --light-color-button: #5f6673;\\n  --light-color-button-disabled: #cfd1d5;\\n  --light-color-button-active: #0088fa;\\n  --light-color-button-focus: #23272f;\\n  --light-color-button-hover: #23272f;\\n  --light-color-border: #eeeeee;\\n  --light-color-commit-did-not-render-fill: #cfd1d5;\\n  --light-color-commit-did-not-render-fill-text: #000000;\\n  --light-color-commit-did-not-render-pattern: #cfd1d5;\\n  --light-color-commit-did-not-render-pattern-text: #333333;\\n  --light-color-commit-gradient-0: #37afa9;\\n  --light-color-commit-gradient-1: #63b19e;\\n  --light-color-commit-gradient-2: #80b393;\\n  --light-color-commit-gradient-3: #97b488;\\n  --light-color-commit-gradient-4: #abb67d;\\n  --light-color-commit-gradient-5: #beb771;\\n  --light-color-commit-gradient-6: #cfb965;\\n  --light-color-commit-gradient-7: #dfba57;\\n  --light-color-commit-gradient-8: #efbb49;\\n  --light-color-commit-gradient-9: #febc38;\\n  --light-color-commit-gradient-text: #000000;\\n  --light-color-component-name: #6a51b2;\\n  --light-color-component-name-inverted: #ffffff;\\n  --light-color-component-badge-background: rgba(0, 0, 0, 0.1);\\n  --light-color-component-badge-background-inverted: rgba(255, 255, 255, 0.25);\\n  --light-color-component-badge-count: #777d88;\\n  --light-color-component-badge-count-inverted: rgba(255, 255, 255, 0.7);\\n  --light-color-context-background: rgba(0,0,0,.9);\\n  --light-color-context-background-hover: rgba(255, 255, 255, 0.1);\\n  --light-color-context-background-selected: #178fb9;\\n  --light-color-context-border: #3d424a;\\n  --light-color-context-text: #ffffff;\\n  --light-color-context-text-selected: #ffffff;\\n  --light-color-dim: #777d88;\\n  --light-color-dimmer: #cfd1d5;\\n  --light-color-dimmest: #eff0f1;\\n  --light-color-error-background: hsl(0, 100%, 97%);\\n  --light-color-error-border: hsl(0, 100%, 92%);\\n  --light-color-error-text: #ff0000;\\n  --light-color-expand-collapse-toggle: #777d88;\\n  --light-color-link: #0000ff;\\n  --light-color-modal-background: rgba(255, 255, 255, 0.75);\\n  --light-color-record-active: #fc3a4b;\\n  --light-color-record-hover: #3578e5;\\n  --light-color-record-inactive: #0088fa;\\n  --light-color-scroll-thumb: #c2c2c2;\\n  --light-color-scroll-track: #fafafa;\\n  --light-color-search-match: yellow;\\n  --light-color-search-match-current: #f7923b;\\n  --light-color-selected-tree-highlight-active: rgba(0, 136, 250, 0.1);\\n  --light-color-selected-tree-highlight-inactive: rgba(0, 0, 0, 0.05);\\n  --light-color-shadow: rgba(0, 0, 0, 0.25);\\n  --light-color-tab-selected-border: #0088fa;\\n  --light-color-text: #000000;\\n  --light-color-text-invalid: #ff0000;\\n  --light-color-text-selected: #ffffff;\\n  --light-color-toggle-background-invalid: #fc3a4b;\\n  --light-color-toggle-background-on: #0088fa;\\n  --light-color-toggle-background-off: #cfd1d5;\\n  --light-color-toggle-text: #ffffff;\\n  --light-color-tooltip-background: rgba(0, 0, 0, 0.9);\\n  --light-color-tooltip-text: #ffffff;\\n\\n  /* Dark theme */\\n  --dark-color-attribute-name: #9d87d2;\\n  --dark-color-attribute-name-not-editable: #ededed;\\n  --dark-color-attribute-name-inverted: #282828;\\n  --dark-color-attribute-value: #cedae0;\\n  --dark-color-attribute-value-inverted: #ffffff;\\n  --dark-color-attribute-editable-value: yellow;\\n  --dark-color-background: #282c34;\\n  --dark-color-background-hover: rgba(255, 255, 255, 0.1);\\n  --dark-color-background-inactive: #3d424a;\\n  --dark-color-background-invalid: #5c0000;\\n  --dark-color-background-selected: #178fb9;\\n  --dark-color-button-background: #282c34;\\n  --dark-color-button-background-focus: #3d424a;\\n  --dark-color-button: #afb3b9;\\n  --dark-color-button-active: #61dafb;\\n  --dark-color-button-disabled: #4f5766;\\n  --dark-color-button-focus: #a2e9fc;\\n  --dark-color-button-hover: #ededed;\\n  --dark-color-border: #3d424a;\\n  --dark-color-commit-did-not-render-fill: #777d88;\\n  --dark-color-commit-did-not-render-fill-text: #000000;\\n  --dark-color-commit-did-not-render-pattern: #666c77;\\n  --dark-color-commit-did-not-render-pattern-text: #ffffff;\\n  --dark-color-commit-gradient-0: #37afa9;\\n  --dark-color-commit-gradient-1: #63b19e;\\n  --dark-color-commit-gradient-2: #80b393;\\n  --dark-color-commit-gradient-3: #97b488;\\n  --dark-color-commit-gradient-4: #abb67d;\\n  --dark-color-commit-gradient-5: #beb771;\\n  --dark-color-commit-gradient-6: #cfb965;\\n  --dark-color-commit-gradient-7: #dfba57;\\n  --dark-color-commit-gradient-8: #efbb49;\\n  --dark-color-commit-gradient-9: #febc38;\\n  --dark-color-commit-gradient-text: #000000;\\n  --dark-color-component-name: #61dafb;\\n  --dark-color-component-name-inverted: #282828;\\n  --dark-color-component-badge-background: rgba(255, 255, 255, 0.25);\\n  --dark-color-component-badge-background-inverted: rgba(0, 0, 0, 0.25);\\n  --dark-color-component-badge-count: #8f949d;\\n  --dark-color-component-badge-count-inverted: rgba(255, 255, 255, 0.7);\\n  --dark-color-context-background: rgba(255,255,255,.9);\\n  --dark-color-context-background-hover: rgba(0, 136, 250, 0.1);\\n  --dark-color-context-background-selected: #0088fa;\\n  --dark-color-context-border: #eeeeee;\\n  --dark-color-context-text: #000000;\\n  --dark-color-context-text-selected: #ffffff;\\n  --dark-color-dim: #8f949d;\\n  --dark-color-dimmer: #777d88;\\n  --dark-color-dimmest: #4f5766;\\n  --dark-color-error-background: #200;\\n  --dark-color-error-border: #900;\\n  --dark-color-error-text: #f55;\\n  --dark-color-expand-collapse-toggle: #8f949d;\\n  --dark-color-link: #61dafb;\\n  --dark-color-modal-background: rgba(0, 0, 0, 0.75);\\n  --dark-color-record-active: #fc3a4b;\\n  --dark-color-record-hover: #a2e9fc;\\n  --dark-color-record-inactive: #61dafb;\\n  --dark-color-scroll-thumb: #afb3b9;\\n  --dark-color-scroll-track: #313640;\\n  --dark-color-search-match: yellow;\\n  --dark-color-search-match-current: #f7923b;\\n  --dark-color-selected-tree-highlight-active: rgba(23, 143, 185, 0.15);\\n  --dark-color-selected-tree-highlight-inactive: rgba(255, 255, 255, 0.05);\\n  --dark-color-shadow: rgba(0, 0, 0, 0.5);\\n  --dark-color-tab-selected-border: #178fb9;\\n  --dark-color-text: #ffffff;\\n  --dark-color-text-invalid: #ff8080;\\n  --dark-color-text-selected: #ffffff;\\n  --dark-color-toggle-background-invalid: #fc3a4b;\\n  --dark-color-toggle-background-on: #178fb9;\\n  --dark-color-toggle-background-off: #777d88;\\n  --dark-color-toggle-text: #ffffff;\\n  --dark-color-tooltip-background: rgba(255, 255, 255, 0.9);\\n  --dark-color-tooltip-text: #000000;\\n\\n  /* Font smoothing */\\n  --light-font-smoothing: auto;\\n  --dark-font-smoothing: antialiased;\\n  --font-smoothing: auto;\\n\\n  /* Compact density */\\n  --compact-font-size-monospace-small: 9px;\\n  --compact-font-size-monospace-normal: 11px;\\n  --compact-font-size-monospace-large: 15px;\\n  --compact-font-size-sans-small: 10px;\\n  --compact-font-size-sans-normal: 12px;\\n  --compact-font-size-sans-large: 14px;\\n  --compact-line-height-data: 18px;\\n  --compact-root-font-size: 16px;\\n\\n  /* Comfortable density */\\n  --comfortable-font-size-monospace-small: 10px;\\n  --comfortable-font-size-monospace-normal: 13px;\\n  --comfortable-font-size-monospace-large: 17px;\\n  --comfortable-font-size-sans-small: 12px;\\n  --comfortable-font-size-sans-normal: 14px;\\n  --comfortable-font-size-sans-large: 16px;\\n  --comfortable-line-height-data: 22px;\\n  --comfortable-root-font-size: 20px;\\n\\n  /* GitHub.com system fonts */\\n  --font-family-monospace: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo,\\n    Courier, monospace;\\n  --font-family-sans: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica,\\n    Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;\\n\\n  /* Constant values shared between JS and CSS */\\n  --interaction-commit-size: 10px;\\n  --interaction-label-width: 200px;\\n}\\n\"","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount /*, ...nodes */) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 2; i < arguments.length; i++) {\n    walker = insert(this, walker, arguments[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","/** @license React v0.0.0-experimental-51a3aa6af\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=60103,c=60106,d=60107,e=60108,f=60114,g=60109,h=60110,k=60112,l=60113,m=60120,n=60115,p=60116,q=60121,r=60122,u=60117,v=60129,w=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var x=Symbol.for;b=x(\"react.element\");c=x(\"react.portal\");d=x(\"react.fragment\");e=x(\"react.strict_mode\");f=x(\"react.profiler\");g=x(\"react.provider\");h=x(\"react.context\");k=x(\"react.forward_ref\");l=x(\"react.suspense\");m=x(\"react.suspense_list\");n=x(\"react.memo\");p=x(\"react.lazy\");q=x(\"react.block\");r=x(\"react.server.block\");u=x(\"react.fundamental\");v=x(\"react.debug_trace_mode\");w=x(\"react.legacy_hidden\")}\nfunction y(a){if(\"object\"===typeof a&&null!==a){var t=a.$$typeof;switch(t){case b:switch(a=a.type,a){case d:case f:case e:case l:case m:return a;default:switch(a=a&&a.$$typeof,a){case h:case k:case p:case n:case g:return a;default:return t}}case c:return t}}}var z=g,A=b,B=k,C=d,D=p,E=n,F=c,G=f,H=e,I=l;exports.ContextConsumer=h;exports.ContextProvider=z;exports.Element=A;exports.ForwardRef=B;exports.Fragment=C;exports.Lazy=D;exports.Memo=E;exports.Portal=F;exports.Profiler=G;exports.StrictMode=H;\nexports.Suspense=I;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return y(a)===h};exports.isContextProvider=function(a){return y(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return y(a)===k};exports.isFragment=function(a){return y(a)===d};exports.isLazy=function(a){return y(a)===p};exports.isMemo=function(a){return y(a)===n};\nexports.isPortal=function(a){return y(a)===c};exports.isProfiler=function(a){return y(a)===f};exports.isStrictMode=function(a){return y(a)===e};exports.isSuspense=function(a){return y(a)===l};exports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===v||a===e||a===l||a===m||a===w||\"object\"===typeof a&&null!==a&&(a.$$typeof===p||a.$$typeof===n||a.$$typeof===g||a.$$typeof===h||a.$$typeof===k||a.$$typeof===u||a.$$typeof===q||a[0]===r)?!0:!1};\nexports.typeOf=y;\n","/** @license React v0.0.0-experimental-51a3aa6af\n * react-debug-tools.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var g=require(\"object-assign\"),k=require(\"error-stack-parser\"),p=require(\"react\").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v=60128;if(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;v=w(\"react.opaque.id\")}var x=[],y=null,z=null;\nfunction A(){if(null===y){var a=new Map;try{B.useContext({_currentValue:null}),B.useState(null),B.useReducer(function(a){return a},null),B.useRef(null),B.useLayoutEffect(function(){}),B.useEffect(function(){}),B.useImperativeHandle(void 0,function(){return null}),B.useDebugValue(null),B.useCallback(function(){}),B.useMemo(function(){return null})}finally{var b=x;x=[]}for(var c=0;c<b.length;c++){var d=b[c];a.set(d.primitive,k.parse(d.stackError))}y=a}return y}var C=null;\nfunction D(){var a=C;null!==a&&(C=a.next);return a}\nvar B={readContext:function(a){return a._currentValue},useCallback:function(a){var b=D();x.push({primitive:\"Callback\",stackError:Error(),value:null!==b?b.memoizedState[0]:a});return a},useContext:function(a){x.push({primitive:\"Context\",stackError:Error(),value:a._currentValue});return a._currentValue},useEffect:function(a){D();x.push({primitive:\"Effect\",stackError:Error(),value:a})},useImperativeHandle:function(a){D();var b=void 0;null!==a&&\"object\"===typeof a&&(b=a.current);x.push({primitive:\"ImperativeHandle\",\nstackError:Error(),value:b})},useDebugValue:function(a,b){x.push({primitive:\"DebugValue\",stackError:Error(),value:\"function\"===typeof b?b(a):a})},useLayoutEffect:function(a){D();x.push({primitive:\"LayoutEffect\",stackError:Error(),value:a})},useMemo:function(a){var b=D();a=null!==b?b.memoizedState[0]:a();x.push({primitive:\"Memo\",stackError:Error(),value:a});return a},useReducer:function(a,b,c){a=D();b=null!==a?a.memoizedState:void 0!==c?c(b):b;x.push({primitive:\"Reducer\",stackError:Error(),value:b});\nreturn[b,function(){}]},useRef:function(a){var b=D();a=null!==b?b.memoizedState:{current:a};x.push({primitive:\"Ref\",stackError:Error(),value:a.current});return a},useState:function(a){var b=D();a=null!==b?b.memoizedState:\"function\"===typeof a?a():a;x.push({primitive:\"State\",stackError:Error(),value:a});return[a,function(){}]},useTransition:function(){D();D();x.push({primitive:\"Transition\",stackError:Error(),value:void 0});return[function(){},!1]},useMutableSource:function(a,b){D();D();D();D();a=b(a._source);\nx.push({primitive:\"MutableSource\",stackError:Error(),value:a});return a},useDeferredValue:function(a){D();D();x.push({primitive:\"DeferredValue\",stackError:Error(),value:a});return a},useOpaqueIdentifier:function(){var a=D();z&&0===z.mode&&D();(a=null===a?void 0:a.memoizedState)&&a.$$typeof===v&&(a=void 0);x.push({primitive:\"OpaqueIdentifier\",stackError:Error(),value:a});return a}},E=0;\nfunction F(a,b,c){var d=b[c].source,e=0;a:for(;e<a.length;e++)if(a[e].source===d){for(var n=c+1,q=e+1;n<b.length&&q<a.length;n++,q++)if(a[q].source!==b[n].source)continue a;return e}return-1}function G(a,b){if(!a)return!1;b=\"use\"+b;return a.length<b.length?!1:a.lastIndexOf(b)===a.length-b.length}function H(a){if(!a)return\"\";var b=a.lastIndexOf(\".\");-1===b&&(b=0);\"use\"===a.substr(b,3)&&(b+=3);return a.substr(b)}\nfunction I(a,b){for(var c=[],d=null,e=c,n=0,q=[],u=0;u<b.length;u++){var t=b[u];var f=a;var h=k.parse(t.stackError);b:{var m=h,r=F(m,f,E);if(-1!==r)f=r;else{for(var l=0;l<f.length&&5>l;l++)if(r=F(m,f,l),-1!==r){E=l;f=r;break b}f=-1}}b:{m=h;r=A().get(t.primitive);if(void 0!==r)for(l=0;l<r.length&&l<m.length;l++)if(r[l].source!==m[l].source){l<m.length-1&&G(m[l].functionName,t.primitive)&&l++;l<m.length-1&&G(m[l].functionName,t.primitive)&&l++;m=l;break b}m=-1}h=-1===f||-1===m||2>f-m?null:h.slice(m,\nf-1);if(null!==h){f=0;if(null!==d){for(;f<h.length&&f<d.length&&h[h.length-f-1].source===d[d.length-f-1].source;)f++;for(d=d.length-1;d>f;d--)e=q.pop()}for(d=h.length-f-1;1<=d;d--)f=[],e.push({id:null,isStateEditable:!1,name:H(h[d-1].functionName),value:void 0,subHooks:f}),q.push(e),e=f;d=h}h=t.primitive;f=\"Context\"===h||\"DebugValue\"===h?null:n++;e.push({id:f,isStateEditable:\"Reducer\"===h||\"State\"===h,name:h,value:t.value,subHooks:[]})}J(c,null);return c}\nfunction J(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];\"DebugValue\"===e.name&&0===e.subHooks.length?(a.splice(d,1),d--,c.push(e)):J(e.subHooks,e)}null!==b&&(1===c.length?b.value=c[0].value:1<c.length&&(b.value=c.map(function(a){return a.value})))}function K(a,b,c){null==c&&(c=p.ReactCurrentDispatcher);var d=c.current;c.current=B;try{var e=Error();a(b)}finally{a=x,x=[],c.current=d}c=k.parse(e);return I(c,a)}function L(a){a.forEach(function(a,c){return c._currentValue=a})}\nexports.inspectHooks=K;\nexports.inspectHooksOfFiber=function(a,b){null==b&&(b=p.ReactCurrentDispatcher);z=a;if(0!==a.tag&&15!==a.tag&&11!==a.tag&&22!==a.tag)throw Error(\"Unknown Fiber. Needs to be a function component to inspect hooks.\");A();var c=a.type,d=a.memoizedProps;if(c!==a.elementType&&c&&c.defaultProps){d=g({},d);var e=c.defaultProps;for(n in e)void 0===d[n]&&(d[n]=e[n])}C=a.memoizedState;var n=new Map;try{for(e=a;e;){if(10===e.tag){var q=e.type._context;n.has(q)||(n.set(q,q._currentValue),q._currentValue=e.memoizedProps.value)}e=\ne.return}if(11===a.tag){var u=c.render;c=d;var t=a.ref;a=b;var f=a.current;a.current=B;try{var h=Error();u(c,t)}finally{var m=x;x=[];a.current=f}var r=k.parse(h);return I(r,m)}return K(c,d,b)}finally{C=null,L(n)}};\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/** @license React v0.0.0-experimental-51a3aa6af\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),m=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;exports.unstable_SuspenseList=60120;var u=60115,v=60116,w=60121;exports.unstable_DebugTracingMode=60129;exports.unstable_LegacyHidden=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var x=Symbol.for;m=x(\"react.element\");p=x(\"react.portal\");exports.Fragment=x(\"react.fragment\");exports.StrictMode=x(\"react.strict_mode\");exports.Profiler=x(\"react.profiler\");q=x(\"react.provider\");r=x(\"react.context\");t=x(\"react.forward_ref\");exports.Suspense=x(\"react.suspense\");exports.unstable_SuspenseList=x(\"react.suspense_list\");u=x(\"react.memo\");v=x(\"react.lazy\");w=x(\"react.block\");exports.unstable_DebugTracingMode=x(\"react.debug_trace_mode\");exports.unstable_LegacyHidden=\nx(\"react.legacy_hidden\")}var y=\"function\"===typeof Symbol&&Symbol.iterator;function z(a){if(null===a||\"object\"!==typeof a)return null;a=y&&a[y]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nfunction A(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};\nfunction D(a,b,c){this.props=a;this.context=b;this.refs=C;this.updater=c||B}D.prototype.isReactComponent={};D.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(A(85));this.updater.enqueueSetState(this,a,b,\"setState\")};D.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function E(){}E.prototype=D.prototype;function F(a,b,c){this.props=a;this.context=b;this.refs=C;this.updater=c||B}var G=F.prototype=new E;\nG.constructor=F;l(G,D.prototype);G.isPureReactComponent=!0;var H={current:null},I=Object.prototype.hasOwnProperty,J={key:!0,ref:!0,__self:!0,__source:!0};\nfunction K(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)I.call(b,e)&&!J.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),n=0;n<g;n++)f[n]=arguments[n+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:m,type:a,key:k,ref:h,props:d,_owner:H.current}}\nfunction L(a,b){return{$$typeof:m,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function M(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===m}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var N=/\\/+/g;function O(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction P(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case m:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+O(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(N,\"$&/\")+\"/\"),P(d,b,c,\"\",function(a){return a})):null!=d&&(M(d)&&(d=L(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(N,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+O(k,g);h+=P(k,b,c,f,d)}else if(f=z(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+O(k,g++),h+=P(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(A(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function Q(a,b,c){if(null==a)return a;var e=[],d=0;P(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction R(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}function S(a){return{$$typeof:w,_data:a.load.apply(null,a.args),_render:a.render}}var T={current:null};function U(){var a=T.current;if(null===a)throw Error(A(321));return a}\nvar V={transition:0},W={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:V,ReactCurrentOwner:H,IsSomeRendererActing:{current:!1},assign:l};exports.Children={map:Q,forEach:function(a,b,c){Q(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;Q(a,function(){b++});return b},toArray:function(a){return Q(a,function(a){return a})||[]},only:function(a){if(!M(a))throw Error(A(143));return a}};exports.Component=D;exports.PureComponent=F;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(A(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=H.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)I.call(b,f)&&!J.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var n=0;n<f;n++)g[n]=arguments[n+2];e.children=g}return{$$typeof:m,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=K;exports.createFactory=function(a){var b=K.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=M;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:R}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.unstable_block=function(a,b){return void 0===b?function(){return{$$typeof:w,_data:void 0,_render:a}}:function(){return{$$typeof:v,_payload:{load:b,args:arguments,render:a},_init:S}}};exports.unstable_createMutableSource=function(a,b){return{_getVersion:b,_source:a,_workInProgressVersionPrimary:null,_workInProgressVersionSecondary:null}};\nexports.unstable_startTransition=function(a){var b=V.transition;V.transition=1;try{a()}finally{V.transition=b}};exports.unstable_useDeferredValue=function(a){return U().useDeferredValue(a)};exports.unstable_useMutableSource=function(a,b,c){return U().useMutableSource(a,b,c)};exports.unstable_useOpaqueIdentifier=function(){return U().useOpaqueIdentifier()};exports.unstable_useTransition=function(){return U().useTransition()};exports.useCallback=function(a,b){return U().useCallback(a,b)};\nexports.useContext=function(a,b){return U().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return U().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return U().useImperativeHandle(a,b,c)};exports.useLayoutEffect=function(a,b){return U().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return U().useMemo(a,b)};exports.useReducer=function(a,b,c){return U().useReducer(a,b,c)};exports.useRef=function(a){return U().useRef(a)};exports.useState=function(a){return U().useState(a)};\nexports.version=\"17.0.0-alpha.0-experimental-51a3aa6af\";\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from './events';\n\nimport type {ComponentFilter, Wall} from './types';\nimport type {\n  InspectedElementPayload,\n  OwnersList,\n  ProfilingDataBackend,\n  RendererID,\n} from 'react-devtools-shared/src/backend/types';\nimport type {StyleAndLayout as StyleAndLayoutPayload} from 'react-devtools-shared/src/backend/NativeStyleEditor/types';\n\nconst BATCH_DURATION = 100;\n\ntype ElementAndRendererID = {|id: number, rendererID: RendererID|};\n\ntype Message = {|\n  event: string,\n  payload: any,\n|};\n\ntype HighlightElementInDOM = {|\n  ...ElementAndRendererID,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  openNativeElementsPanel: boolean,\n  scrollIntoView: boolean,\n|};\n\ntype OverrideValue = {|\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n  wasForwarded?: boolean,\n  value: any,\n|};\n\ntype OverrideHookState = {|\n  ...OverrideValue,\n  hookID: number,\n|};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePath = {|\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n|};\n\ntype RenamePath = {|\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n|};\n\ntype OverrideValueAtPath = {|\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n  value: any,\n|};\n\ntype OverrideSuspense = {|\n  ...ElementAndRendererID,\n  forceFallback: boolean,\n|};\n\ntype CopyElementPathParams = {|\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n|};\n\ntype ViewAttributeSourceParams = {|\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n|};\n\ntype InspectElementParams = {|\n  ...ElementAndRendererID,\n  path?: Array<string | number>,\n|};\n\ntype StoreAsGlobalParams = {|\n  ...ElementAndRendererID,\n  count: number,\n  path: Array<string | number>,\n|};\n\ntype NativeStyleEditor_RenameAttributeParams = {|\n  ...ElementAndRendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n|};\n\ntype NativeStyleEditor_SetValueParams = {|\n  ...ElementAndRendererID,\n  name: string,\n  value: string,\n|};\n\ntype UpdateConsolePatchSettingsParams = {|\n  appendComponentStack: boolean,\n  breakOnConsoleErrors: boolean,\n|};\n\ntype BackendEvents = {|\n  extensionBackendInitialized: [],\n  inspectedElement: [InspectedElementPayload],\n  isBackendStorageAPISupported: [boolean],\n  operations: [Array<number>],\n  ownersList: [OwnersList],\n  overrideComponentFilters: [Array<ComponentFilter>],\n  profilingData: [ProfilingDataBackend],\n  profilingStatus: [boolean],\n  reloadAppForProfiling: [],\n  selectFiber: [number],\n  shutdown: [],\n  stopInspectingNative: [boolean],\n  syncSelectionFromNativeElementsPanel: [],\n  syncSelectionToNativeElementsPanel: [],\n  unsupportedRendererVersion: [RendererID],\n\n  // React Native style editor plug-in.\n  isNativeStyleEditorSupported: [\n    {|isSupported: boolean, validAttributes: ?$ReadOnlyArray<string>|},\n  ],\n  NativeStyleEditor_styleAndLayout: [StyleAndLayoutPayload],\n|};\n\ntype FrontendEvents = {|\n  clearNativeElementHighlight: [],\n  copyElementPath: [CopyElementPathParams],\n  deletePath: [DeletePath],\n  getOwnersList: [ElementAndRendererID],\n  getProfilingData: [{|rendererID: RendererID|}],\n  getProfilingStatus: [],\n  highlightNativeElement: [HighlightElementInDOM],\n  inspectElement: [InspectElementParams],\n  logElementToConsole: [ElementAndRendererID],\n  overrideSuspense: [OverrideSuspense],\n  overrideValueAtPath: [OverrideValueAtPath],\n  profilingData: [ProfilingDataBackend],\n  reloadAndProfile: [boolean],\n  renamePath: [RenamePath],\n  selectFiber: [number],\n  setTraceUpdatesEnabled: [boolean],\n  shutdown: [],\n  startInspectingNative: [],\n  startProfiling: [boolean],\n  stopInspectingNative: [boolean],\n  stopProfiling: [],\n  storeAsGlobal: [StoreAsGlobalParams],\n  updateComponentFilters: [Array<ComponentFilter>],\n  updateConsolePatchSettings: [UpdateConsolePatchSettingsParams],\n  viewAttributeSource: [ViewAttributeSourceParams],\n  viewElementSource: [ElementAndRendererID],\n\n  // React Native style editor plug-in.\n  NativeStyleEditor_measure: [ElementAndRendererID],\n  NativeStyleEditor_renameAttribute: [NativeStyleEditor_RenameAttributeParams],\n  NativeStyleEditor_setValue: [NativeStyleEditor_SetValueParams],\n\n  // Temporarily support newer standalone front-ends sending commands to older embedded backends.\n  // We do this because React Native embeds the React DevTools backend,\n  // but cannot control which version of the frontend users use.\n  //\n  // Note that nothing in the newer backend actually listens to these events,\n  // but the new frontend still dispatches them (in case older backends are listening to them instead).\n  //\n  // Note that this approach does no support the combination of a newer backend with an older frontend.\n  // It would be more work to suppot both approaches (and not run handlers twice)\n  // so I chose to support the more likely/common scenario (and the one more difficult for an end user to \"fix\").\n  overrideContext: [OverrideValue],\n  overrideHookState: [OverrideHookState],\n  overrideProps: [OverrideValue],\n  overrideState: [OverrideValue],\n|};\n\nclass Bridge<\n  OutgoingEvents: Object,\n  IncomingEvents: Object,\n> extends EventEmitter<{|\n  ...IncomingEvents,\n  ...OutgoingEvents,\n|}> {\n  _isShutdown: boolean = false;\n  _messageQueue: Array<any> = [];\n  _timeoutID: TimeoutID | null = null;\n  _wall: Wall;\n  _wallUnlisten: Function | null = null;\n\n  constructor(wall: Wall) {\n    super();\n\n    this._wall = wall;\n\n    this._wallUnlisten =\n      wall.listen((message: Message) => {\n        (this: any).emit(message.event, message.payload);\n      }) || null;\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    this.addListener('overrideValueAtPath', this.overrideValueAtPath);\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen for legacy (v3) messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  send<EventName: $Keys<OutgoingEvents>>(\n    event: EventName,\n    ...payload: $ElementType<OutgoingEvents, EventName>\n  ) {\n    if (this._isShutdown) {\n      console.warn(\n        `Cannot send message \"${event}\" through a Bridge that has been shutdown.`,\n      );\n      return;\n    }\n\n    // When we receive a message:\n    // - we add it to our queue of messages to be sent\n    // - if there hasn't been a message recently, we set a timer for 0 ms in\n    //   the future, allowing all messages created in the same tick to be sent\n    //   together\n    // - if there *has* been a message flushed in the last BATCH_DURATION ms\n    //   (or we're waiting for our setTimeout-0 to fire), then _timeoutID will\n    //   be set, and we'll simply add to the queue and wait for that\n    this._messageQueue.push(event, payload);\n    if (!this._timeoutID) {\n      this._timeoutID = setTimeout(this._flush, 0);\n    }\n  }\n\n  shutdown() {\n    if (this._isShutdown) {\n      console.warn('Bridge was already shutdown.');\n      return;\n    }\n\n    // Queue the shutdown outgoing message for subscribers.\n    this.send('shutdown');\n\n    // Mark this bridge as destroyed, i.e. disable its public API.\n    this._isShutdown = true;\n\n    // Disable the API inherited from EventEmitter that can add more listeners and send more messages.\n    // $FlowFixMe This property is not writable.\n    this.addListener = function() {};\n    // $FlowFixMe This property is not writable.\n    this.emit = function() {};\n    // NOTE: There's also EventEmitter API like `on` and `prependListener` that we didn't add to our Flow type of EventEmitter.\n\n    // Unsubscribe this bridge incoming message listeners to be sure, and so they don't have to do that.\n    this.removeAllListeners();\n\n    // Stop accepting and emitting incoming messages from the wall.\n    const wallUnlisten = this._wallUnlisten;\n    if (wallUnlisten) {\n      wallUnlisten();\n    }\n\n    // Synchronously flush all queued outgoing messages.\n    // At this step the subscribers' code may run in this call stack.\n    do {\n      this._flush();\n    } while (this._messageQueue.length);\n\n    // Make sure once again that there is no dangling timer.\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n  }\n\n  _flush = () => {\n    // This method is used after the bridge is marked as destroyed in shutdown sequence,\n    // so we do not bail out if the bridge marked as destroyed.\n    // It is a private method that the bridge ensures is only called at the right times.\n\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n\n    if (this._messageQueue.length) {\n      for (let i = 0; i < this._messageQueue.length; i += 2) {\n        this._wall.send(this._messageQueue[i], ...this._messageQueue[i + 1]);\n      }\n      this._messageQueue.length = 0;\n\n      // Check again for queued messages in BATCH_DURATION ms. This will keep\n      // flushing in a loop as long as messages continue to be added. Once no\n      // more are, the timer expires.\n      this._timeoutID = setTimeout(this._flush, BATCH_DURATION);\n    }\n  };\n\n  // Temporarily support older standalone backends by forwarding \"overrideValueAtPath\" commands\n  // to the older message types they may be listening to.\n  overrideValueAtPath = ({\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPath) => {\n    switch (type) {\n      case 'context':\n        this.send('overrideContext', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'hooks':\n        this.send('overrideHookState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'props':\n        this.send('overrideProps', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'state':\n        this.send('overrideState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n    }\n  };\n}\n\nexport type BackendBridge = Bridge<BackendEvents, FrontendEvents>;\nexport type FrontendBridge = Bridge<FrontendEvents, BackendEvents>;\n\nexport default Bridge;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {InternalInstance} from './renderer';\n\nexport function decorate(object: Object, attr: string, fn: Function): Function {\n  const old = object[attr];\n  object[attr] = function(instance: InternalInstance) {\n    return fn.call(this, old, arguments);\n  };\n  return old;\n}\n\nexport function decorateMany(\n  source: Object,\n  fns: {[attr: string]: Function, ...},\n): Object {\n  const olds = {};\n  for (const name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nexport function restoreMany(source: Object, olds: Object): void {\n  for (const name in olds) {\n    source[name] = olds[name];\n  }\n}\n\nexport function forceUpdate(instance: InternalInstance): void {\n  if (typeof instance.forceUpdate === 'function') {\n    instance.forceUpdate();\n  } else if (\n    instance.updater != null &&\n    typeof instance.updater.enqueueForceUpdate === 'function'\n  ) {\n    instance.updater.enqueueForceUpdate(this, () => {}, 'forceUpdate');\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ElementTypeClass,\n  ElementTypeFunction,\n  ElementTypeRoot,\n  ElementTypeHostComponent,\n  ElementTypeOtherOrUnknown,\n} from 'react-devtools-shared/src/types';\nimport {getUID, utfEncodeString, printOperationsArray} from '../../utils';\nimport {\n  cleanForBridge,\n  copyToClipboard,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n} from '../utils';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getInObject,\n  renamePathInObject,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\nimport {\n  __DEBUG__,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n} from '../../constants';\nimport {decorateMany, forceUpdate, restoreMany} from './utils';\n\nimport type {\n  DevToolsHook,\n  GetFiberIDForNative,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  RendererInterface,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/types';\nimport type {Owner, InspectedElement} from '../types';\n\nexport type InternalInstance = Object;\ntype LegacyRenderer = Object;\n\nfunction getData(internalInstance: InternalInstance) {\n  let displayName = null;\n  let key = null;\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    if (internalInstance._currentElement.key) {\n      key = '' + internalInstance._currentElement.key;\n    }\n\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'string') {\n      displayName = elementType;\n    } else if (typeof elementType === 'function') {\n      displayName = getDisplayName(elementType);\n    }\n  }\n\n  return {\n    displayName,\n    key,\n  };\n}\n\nfunction getElementType(internalInstance: InternalInstance): ElementType {\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'function') {\n      const publicInstance = internalInstance.getPublicInstance();\n      if (publicInstance !== null) {\n        return ElementTypeClass;\n      } else {\n        return ElementTypeFunction;\n      }\n    } else if (typeof elementType === 'string') {\n      return ElementTypeHostComponent;\n    }\n  }\n  return ElementTypeOtherOrUnknown;\n}\n\nfunction getChildren(internalInstance: Object): Array<any> {\n  const children = [];\n\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    // No children\n  } else if (\n    internalInstance._currentElement === null ||\n    internalInstance._currentElement === false\n  ) {\n    // No children\n  } else if (internalInstance._renderedComponent) {\n    const child = internalInstance._renderedComponent;\n    if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n      children.push(child);\n    }\n  } else if (internalInstance._renderedChildren) {\n    const renderedChildren = internalInstance._renderedChildren;\n    for (const name in renderedChildren) {\n      const child = renderedChildren[name];\n      if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n        children.push(child);\n      }\n    }\n  }\n  // Note: we skip the case where children are just strings or numbers\n  // because the new DevTools skips over host text nodes anyway.\n  return children;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: LegacyRenderer,\n  global: Object,\n): RendererInterface {\n  const idToInternalInstanceMap: Map<number, InternalInstance> = new Map();\n  const internalInstanceToIDMap: WeakMap<\n    InternalInstance,\n    number,\n  > = new WeakMap();\n  const internalInstanceToRootIDMap: WeakMap<\n    InternalInstance,\n    number,\n  > = new WeakMap();\n\n  let getInternalIDForNative: GetFiberIDForNative = ((null: any): GetFiberIDForNative);\n  let findNativeNodeForInternalID: (id: number) => ?NativeType;\n\n  if (renderer.ComponentTree) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      const internalInstance = renderer.ComponentTree.getClosestInstanceFromNode(\n        node,\n      );\n      return internalInstanceToIDMap.get(internalInstance) || null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      const internalInstance = idToInternalInstanceMap.get(id);\n      return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n    };\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      // Not implemented.\n      return null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      // Not implemented.\n      return null;\n    };\n  }\n\n  function getDisplayNameForFiberID(id: number): string | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    return internalInstance ? getData(internalInstance).displayName : null;\n  }\n\n  function getID(internalInstance: InternalInstance): number {\n    if (typeof internalInstance !== 'object' || internalInstance === null) {\n      throw new Error('Invalid internal instance: ' + internalInstance);\n    }\n    if (!internalInstanceToIDMap.has(internalInstance)) {\n      const id = getUID();\n      internalInstanceToIDMap.set(internalInstance, id);\n      idToInternalInstanceMap.set(id, internalInstance);\n    }\n    return ((internalInstanceToIDMap.get(internalInstance): any): number);\n  }\n\n  function areEqualArrays(a, b) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // This is shared mutable state that lets us keep track of where we are.\n  let parentIDStack = [];\n\n  let oldReconcilerMethods = null;\n  if (renderer.Reconciler) {\n    // React 15\n    oldReconcilerMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(fn, args) {\n        const internalInstance = args[0];\n        const hostContainerInfo = args[3];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          return fn.apply(this, args);\n        }\n        if (hostContainerInfo._topLevelWrapper === undefined) {\n          // SSR\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        // Push the operation.\n        const parentID =\n          parentIDStack.length > 0\n            ? parentIDStack[parentIDStack.length - 1]\n            : 0;\n        recordMount(internalInstance, id, parentID);\n        parentIDStack.push(id);\n\n        // Remember the root.\n        internalInstanceToRootIDMap.set(\n          internalInstance,\n          getID(hostContainerInfo._topLevelWrapper),\n        );\n\n        try {\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      performUpdateIfNecessary(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      receiveComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      unmountComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n        try {\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n\n          // Push the operation.\n          recordUnmount(internalInstance, id);\n\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n    });\n  }\n\n  function cleanup() {\n    if (oldReconcilerMethods !== null) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldReconcilerMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldReconcilerMethods);\n      }\n    }\n    oldReconcilerMethods = null;\n  }\n\n  function recordMount(\n    internalInstance: InternalInstance,\n    id: number,\n    parentID: number,\n  ) {\n    const isRoot = parentID === 0;\n\n    if (__DEBUG__) {\n      console.log(\n        '%crecordMount()',\n        'color: green; font-weight: bold;',\n        id,\n        getData(internalInstance).displayName,\n      );\n    }\n\n    if (isRoot) {\n      // TODO Is this right? For all versions?\n      const hasOwnerMetadata =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(0); // isProfilingSupported?\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n    } else {\n      const type = getElementType(internalInstance);\n      const {displayName, key} = getData(internalInstance);\n\n      const ownerID =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null\n          ? getID(internalInstance._currentElement._owner)\n          : 0;\n\n      const displayNameStringID = getStringID(displayName);\n      const keyStringID = getStringID(key);\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(type);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n  }\n\n  function recordReorder(\n    internalInstance: InternalInstance,\n    id: number,\n    nextChildren: Array<InternalInstance>,\n  ) {\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(id);\n    const nextChildIDs = nextChildren.map(getID);\n    pushOperation(nextChildIDs.length);\n    for (let i = 0; i < nextChildIDs.length; i++) {\n      pushOperation(nextChildIDs[i]);\n    }\n  }\n\n  function recordUnmount(internalInstance: InternalInstance, id: number) {\n    pendingUnmountedIDs.push(id);\n    idToInternalInstanceMap.delete(id);\n  }\n\n  function crawlAndRecordInitialMounts(\n    id: number,\n    parentID: number,\n    rootID: number,\n  ) {\n    if (__DEBUG__) {\n      console.group('crawlAndRecordInitialMounts() id:', id);\n    }\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      internalInstanceToRootIDMap.set(internalInstance, rootID);\n      recordMount(internalInstance, id, parentID);\n      getChildren(internalInstance).forEach(child =>\n        crawlAndRecordInitialMounts(getID(child), id, rootID),\n      );\n    }\n\n    if (__DEBUG__) {\n      console.groupEnd();\n    }\n  }\n\n  function flushInitialOperations() {\n    // Crawl roots though and register any nodes that mounted before we were injected.\n\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    for (const key in roots) {\n      const internalInstance = roots[key];\n      const id = getID(internalInstance);\n      crawlAndRecordInitialMounts(id, 0, id);\n      flushPendingEvents(id);\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingUnmountedIDs: Array<number> = [];\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function flushPendingEvents(rootID: number) {\n    if (\n      pendingOperations.length === 0 &&\n      pendingUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingUnmountedIDs.length + (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n      // How big is the string table?\n      1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Mount operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber properations, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = rootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the unmounts\n      for (let j = 0; j < pendingUnmountedIDs.length; j++) {\n        operations[i++] = pendingUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    if (__DEBUG__) {\n      printOperationsArray(operations);\n    }\n\n    // If we've already connected to the frontend, just pass the operations through.\n    hook.emit('operations', operations);\n\n    pendingOperations.length = 0;\n    pendingUnmountedIDs = [];\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  let currentlyInspectedElementID: number | null = null;\n  let currentlyInspectedPaths: Object = {};\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(key: string) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      let current = currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      instance = internalInstance._instance || null;\n\n      const element = internalInstance._currentElement;\n      if (element != null && element.props != null) {\n        style = element.props.style || null;\n      }\n    }\n\n    return {\n      instance,\n      style,\n    };\n  }\n\n  function updateSelectedElement(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    switch (getElementType(internalInstance)) {\n      case ElementTypeClass:\n        global.$r = internalInstance._instance;\n        break;\n      case ElementTypeFunction:\n        const element = internalInstance._currentElement;\n        if (element == null) {\n          console.warn(`Could not find element with id \"${id}\"`);\n          return;\n        }\n\n        global.$r = {\n          props: element.props,\n          type: element.type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const value = getInObject(inspectedElement, path);\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function copyElementPath(id: number, path: Array<string | number>): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      copyToClipboard(getInObject(inspectedElement, path));\n    }\n  }\n\n  function inspectElement(\n    id: number,\n    path?: Array<string | number>,\n  ): InspectedElementPayload {\n    if (currentlyInspectedElementID !== id) {\n      currentlyInspectedElementID = id;\n      currentlyInspectedPaths = {};\n    }\n\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement === null) {\n      return {\n        id,\n        type: 'not-found',\n      };\n    }\n\n    if (path != null) {\n      mergeInspectedPaths(path);\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehyration (cleanForBridge).\n    updateSelectedElement(id);\n\n    inspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context'),\n    );\n    inspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props'),\n    );\n    inspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state'),\n    );\n\n    return {\n      id,\n      type: 'full-data',\n      value: inspectedElement,\n    };\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n\n    if (internalInstance == null) {\n      return null;\n    }\n\n    const {displayName, key} = getData(internalInstance);\n    const type = getElementType(internalInstance);\n\n    let context = null;\n    let owners = null;\n    let props = null;\n    let state = null;\n    let source = null;\n\n    const element = internalInstance._currentElement;\n    if (element !== null) {\n      props = element.props;\n      source = element._source != null ? element._source : null;\n\n      let owner = element._owner;\n      if (owner) {\n        owners = [];\n        while (owner != null) {\n          owners.push({\n            displayName: getData(owner).displayName || 'Unknown',\n            id: getID(owner),\n            type: getElementType(owner),\n          });\n          if (owner._currentElement) {\n            owner = owner._currentElement._owner;\n          }\n        }\n      }\n    }\n\n    const publicInstance = internalInstance._instance;\n    if (publicInstance != null) {\n      context = publicInstance.context || null;\n      state = publicInstance.state || null;\n    }\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      // Suspense did not exist in legacy versions\n      canToggleSuspense: false,\n\n      // Can view component source location.\n      canViewSource: type === ElementTypeClass || type === ElementTypeFunction,\n\n      // Only legacy context exists in legacy versions.\n      hasLegacyContext: true,\n\n      displayName: displayName,\n\n      type: type,\n\n      key: key != null ? key : null,\n\n      // Inspectable properties.\n      context,\n      hooks: null,\n      props,\n      state,\n\n      // List of owners\n      owners,\n\n      // Location of component in source code.\n      source,\n\n      rootType: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n    };\n  }\n\n  function logElementToConsole(id: number): void {\n    const result = inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.context !== null) {\n      console.log('Context:', result.context);\n    }\n    const nativeNode = findNativeNodeForInternalID(id);\n    if (nativeNode !== null) {\n      console.log('Node:', nativeNode);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      window.$attribute = getInObject(inspectedElement, path);\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    const element = internalInstance._currentElement;\n    if (element == null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    global.$type = element.type;\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            deletePathInObject(publicInstance.context, path);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithDelete(element.props, path),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            deletePathInObject(publicInstance.state, path);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            renamePathInObject(publicInstance.context, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithRename(element.props, oldPath, newPath),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            renamePathInObject(publicInstance.state, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            setInObject(publicInstance.context, path, value);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithSet(element.props, path, value),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            setInObject(publicInstance.state, path, value);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  // v16+ only features\n  const getProfilingData = () => {\n    throw new Error('getProfilingData not supported by this renderer');\n  };\n  const handleCommitFiberRoot = () => {\n    throw new Error('handleCommitFiberRoot not supported by this renderer');\n  };\n  const handleCommitFiberUnmount = () => {\n    throw new Error('handleCommitFiberUnmount not supported by this renderer');\n  };\n  const overrideSuspense = () => {\n    throw new Error('overrideSuspense not supported by this renderer');\n  };\n  const startProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n  const stopProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    // Not implemented.\n    return null;\n  }\n\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    // Not implemented.\n  }\n\n  function setTraceUpdatesEnabled(enabled: boolean) {\n    // Not implemented.\n  }\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    // Not implemented.\n  }\n\n  function getOwnersList(id: number): Array<Owner> | null {\n    // Not implemented.\n    return null;\n  }\n\n  return {\n    cleanup,\n    copyElementPath,\n    deletePath,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberIDForNative: getInternalIDForNative,\n    getInstanceAndStyle,\n    findNativeNodesForFiberID: (id: number) => {\n      const nativeNode = findNativeNodeForInternalID(id);\n      return nativeNode == null ? null : [nativeNode];\n    },\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    inspectElement,\n    logElementToConsole,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from './agent';\n\nimport {attach} from './renderer';\nimport {attach as attachLegacy} from './legacy/renderer';\n\nimport type {DevToolsHook, ReactRenderer, RendererInterface} from './types';\n\nexport function initBackend(\n  hook: DevToolsHook,\n  agent: Agent,\n  global: Object,\n): () => void {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return () => {};\n  }\n  const subs = [\n    hook.sub(\n      'renderer-attached',\n      ({\n        id,\n        renderer,\n        rendererInterface,\n      }: {\n        id: number,\n        renderer: ReactRenderer,\n        rendererInterface: RendererInterface,\n        ...\n      }) => {\n        agent.setRendererInterface(id, rendererInterface);\n\n        // Now that the Store and the renderer interface are connected,\n        // it's time to flush the pending operation codes to the frontend.\n        rendererInterface.flushInitialOperations();\n      },\n    ),\n\n    hook.sub('unsupported-renderer-version', (id: number) => {\n      agent.onUnsupportedRenderer(id);\n    }),\n\n    hook.sub('operations', agent.onHookOperations),\n    hook.sub('traceUpdates', agent.onTraceUpdates),\n\n    // TODO Add additional subscriptions required for profiling mode\n  ];\n\n  const attachRenderer = (id: number, renderer: ReactRenderer) => {\n    let rendererInterface = hook.rendererInterfaces.get(id);\n\n    // Inject any not-yet-injected renderers (if we didn't reload-and-profile)\n    if (rendererInterface == null) {\n      if (typeof renderer.findFiberByHostInstance === 'function') {\n        // react-reconciler v16+\n        rendererInterface = attach(hook, id, renderer, global);\n      } else if (renderer.ComponentTree) {\n        // react-dom v15\n        rendererInterface = attachLegacy(hook, id, renderer, global);\n      } else {\n        // Older react-dom or other unsupported renderer version\n      }\n\n      if (rendererInterface != null) {\n        hook.rendererInterfaces.set(id, rendererInterface);\n      }\n    }\n\n    // Notify the DevTools frontend about new renderers.\n    // This includes any that were attached early (via __REACT_DEVTOOLS_ATTACH__).\n    if (rendererInterface != null) {\n      hook.emit('renderer-attached', {\n        id,\n        renderer,\n        rendererInterface,\n      });\n    } else {\n      hook.emit('unsupported-renderer-version', id);\n    }\n  };\n\n  // Connect renderers that have already injected themselves.\n  hook.renderers.forEach((renderer, id) => {\n    attachRenderer(id, renderer);\n  });\n\n  // Connect any new renderers that injected themselves.\n  subs.push(\n    hook.sub(\n      'renderer',\n      ({id, renderer}: {id: number, renderer: ReactRenderer, ...}) => {\n        attachRenderer(id, renderer);\n      },\n    ),\n  );\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n  const onAgentShutdown = () => {\n    subs.forEach(fn => fn());\n    hook.rendererInterfaces.forEach(rendererInterface => {\n      rendererInterface.cleanup();\n    });\n    hook.reactDevtoolsAgent = null;\n  };\n  agent.addListener('shutdown', onAgentShutdown);\n  subs.push(() => {\n    agent.removeListener('shutdown', onAgentShutdown);\n  });\n\n  return () => {\n    subs.forEach(fn => fn());\n  };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BoxStyle} from './types';\n\n/**\n * This mirrors react-native/Libraries/Inspector/resolveBoxStyle.js (but without RTL support).\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * -> {top: 5, left: 5, right: 5, bottom: 10}\n */\nexport default function resolveBoxStyle(\n  prefix: string,\n  style: Object,\n): BoxStyle | null {\n  let hasParts = false;\n  const result = {\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n  };\n\n  const styleForAll = style[prefix];\n  if (styleForAll != null) {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of Object.keys(result)) {\n      result[key] = styleForAll;\n    }\n    hasParts = true;\n  }\n\n  const styleForHorizontal = style[prefix + 'Horizontal'];\n  if (styleForHorizontal != null) {\n    result.left = styleForHorizontal;\n    result.right = styleForHorizontal;\n    hasParts = true;\n  } else {\n    const styleForLeft = style[prefix + 'Left'];\n    if (styleForLeft != null) {\n      result.left = styleForLeft;\n      hasParts = true;\n    }\n\n    const styleForRight = style[prefix + 'Right'];\n    if (styleForRight != null) {\n      result.right = styleForRight;\n      hasParts = true;\n    }\n\n    const styleForEnd = style[prefix + 'End'];\n    if (styleForEnd != null) {\n      // TODO RTL support\n      result.right = styleForEnd;\n      hasParts = true;\n    }\n    const styleForStart = style[prefix + 'Start'];\n    if (styleForStart != null) {\n      // TODO RTL support\n      result.left = styleForStart;\n      hasParts = true;\n    }\n  }\n\n  const styleForVertical = style[prefix + 'Vertical'];\n  if (styleForVertical != null) {\n    result.bottom = styleForVertical;\n    result.top = styleForVertical;\n    hasParts = true;\n  } else {\n    const styleForBottom = style[prefix + 'Bottom'];\n    if (styleForBottom != null) {\n      result.bottom = styleForBottom;\n      hasParts = true;\n    }\n\n    const styleForTop = style[prefix + 'Top'];\n    if (styleForTop != null) {\n      result.top = styleForTop;\n      hasParts = true;\n    }\n  }\n\n  return hasParts ? result : null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport resolveBoxStyle from './resolveBoxStyle';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererID} from '../types';\nimport type {StyleAndLayout} from './types';\n\nexport type ResolveNativeStyle = (stylesheetID: any) => ?Object;\n\nexport default function setupNativeStyleEditor(\n  bridge: BackendBridge,\n  agent: Agent,\n  resolveNativeStyle: ResolveNativeStyle,\n  validAttributes?: $ReadOnlyArray<string> | null,\n) {\n  bridge.addListener(\n    'NativeStyleEditor_measure',\n    ({id, rendererID}: {|id: number, rendererID: RendererID|}) => {\n      measureStyle(agent, bridge, resolveNativeStyle, id, rendererID);\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_renameAttribute',\n    ({\n      id,\n      rendererID,\n      oldName,\n      newName,\n      value,\n    }: {|\n      id: number,\n      rendererID: RendererID,\n      oldName: string,\n      newName: string,\n      value: string,\n    |}) => {\n      renameStyle(agent, id, rendererID, oldName, newName, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_setValue',\n    ({\n      id,\n      rendererID,\n      name,\n      value,\n    }: {|\n      id: number,\n      rendererID: number,\n      name: string,\n      value: string,\n    |}) => {\n      setStyle(agent, id, rendererID, name, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.send('isNativeStyleEditorSupported', {\n    isSupported: true,\n    validAttributes,\n  });\n}\n\nconst EMPTY_BOX_STYLE = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nconst componentIDToStyleOverrides: Map<number, Object> = new Map();\n\nfunction measureStyle(\n  agent: Agent,\n  bridge: BackendBridge,\n  resolveNativeStyle: ResolveNativeStyle,\n  id: number,\n  rendererID: RendererID,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  const {instance, style} = data;\n\n  let resolvedStyle = resolveNativeStyle(style);\n\n  // If it's a host component we edited before, amend styles.\n  const styleOverrides = componentIDToStyleOverrides.get(id);\n  if (styleOverrides != null) {\n    resolvedStyle = Object.assign({}, resolvedStyle, styleOverrides);\n  }\n\n  if (!instance || typeof instance.measure !== 'function') {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  // $FlowFixMe the parameter types of an unknown function are unknown\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send(\n        'NativeStyleEditor_styleAndLayout',\n        ({\n          id,\n          layout: null,\n          style: resolvedStyle || null,\n        }: StyleAndLayout),\n      );\n      return;\n    }\n    const margin =\n      (resolvedStyle != null && resolveBoxStyle('margin', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    const padding =\n      (resolvedStyle != null && resolveBoxStyle('padding', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: {\n          x,\n          y,\n          width,\n          height,\n          left,\n          top,\n          margin,\n          padding,\n        },\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n  });\n}\n\nfunction shallowClone(object: Object): Object {\n  const cloned = {};\n  for (const n in object) {\n    cloned[n] = object[n];\n  }\n  return cloned;\n}\n\nfunction renameStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n): void {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n\n  const newStyle = newName\n    ? {[oldName]: undefined, [newName]: value}\n    : {[oldName]: undefined};\n\n  let customStyle;\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (Array.isArray(style)) {\n    const lastIndex = style.length - 1;\n    if (\n      typeof style[lastIndex] === 'object' &&\n      !Array.isArray(style[lastIndex])\n    ) {\n      customStyle = shallowClone(style[lastIndex]);\n      delete customStyle[oldName];\n      if (newName) {\n        customStyle[newName] = value;\n      } else {\n        customStyle[oldName] = undefined;\n      }\n\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastIndex],\n        value: customStyle,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else if (typeof style === 'object') {\n    customStyle = shallowClone(style);\n    delete customStyle[oldName];\n    if (newName) {\n      customStyle[newName] = value;\n    } else {\n      customStyle[oldName] = undefined;\n    }\n\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: customStyle,\n    });\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n\nfunction setStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  name: string,\n  value: string,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n  const newStyle = {[name]: value};\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (Array.isArray(style)) {\n    const lastLength = style.length - 1;\n    if (\n      typeof style[lastLength] === 'object' &&\n      !Array.isArray(style[lastLength])\n    ) {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastLength, name],\n        value,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n"],"sourceRoot":""}